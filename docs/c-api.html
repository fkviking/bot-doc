<!DOCTYPE html>
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>10. –§–æ—Ä–º—É–ª—ã –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C++ | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ &quot;–í–∏–∫–∏–Ω–≥&quot;</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    <link rel="icon" href="/bot-doc/favicon.ico">
    <meta name="description" content="–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ–ø–∏—Å–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏ API">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/bot-doc/assets/css/0.styles.6701afdc.css" as="style"><link rel="preload" href="/bot-doc/assets/js/app.9ff887b2.js" as="script"><link rel="preload" href="/bot-doc/assets/js/2.838bb34b.js" as="script"><link rel="preload" href="/bot-doc/assets/js/35.065ed9e5.js" as="script"><link rel="preload" href="/bot-doc/assets/js/26.6f356218.js" as="script"><link rel="prefetch" href="/bot-doc/assets/js/1.afddc6e9.js"><link rel="prefetch" href="/bot-doc/assets/js/11.0da1be66.js"><link rel="prefetch" href="/bot-doc/assets/js/12.d01be575.js"><link rel="prefetch" href="/bot-doc/assets/js/13.02da4c1d.js"><link rel="prefetch" href="/bot-doc/assets/js/14.ddc6c31a.js"><link rel="prefetch" href="/bot-doc/assets/js/15.cef79c51.js"><link rel="prefetch" href="/bot-doc/assets/js/16.17bc3a44.js"><link rel="prefetch" href="/bot-doc/assets/js/17.bc69b124.js"><link rel="prefetch" href="/bot-doc/assets/js/18.892cf449.js"><link rel="prefetch" href="/bot-doc/assets/js/19.2cb09572.js"><link rel="prefetch" href="/bot-doc/assets/js/20.06660988.js"><link rel="prefetch" href="/bot-doc/assets/js/21.341785c2.js"><link rel="prefetch" href="/bot-doc/assets/js/22.81458f36.js"><link rel="prefetch" href="/bot-doc/assets/js/23.e10dba31.js"><link rel="prefetch" href="/bot-doc/assets/js/24.5f00b0c1.js"><link rel="prefetch" href="/bot-doc/assets/js/25.c23c90cc.js"><link rel="prefetch" href="/bot-doc/assets/js/27.3727a712.js"><link rel="prefetch" href="/bot-doc/assets/js/28.7eadd82b.js"><link rel="prefetch" href="/bot-doc/assets/js/29.9b8ce8ee.js"><link rel="prefetch" href="/bot-doc/assets/js/3.9ce79b6a.js"><link rel="prefetch" href="/bot-doc/assets/js/30.48a88a1b.js"><link rel="prefetch" href="/bot-doc/assets/js/31.977f2adf.js"><link rel="prefetch" href="/bot-doc/assets/js/32.c1e2b0ae.js"><link rel="prefetch" href="/bot-doc/assets/js/33.03f79912.js"><link rel="prefetch" href="/bot-doc/assets/js/34.d53a4518.js"><link rel="prefetch" href="/bot-doc/assets/js/36.04d4d8a6.js"><link rel="prefetch" href="/bot-doc/assets/js/37.6820b499.js"><link rel="prefetch" href="/bot-doc/assets/js/38.0abccf5a.js"><link rel="prefetch" href="/bot-doc/assets/js/39.2086f6a6.js"><link rel="prefetch" href="/bot-doc/assets/js/4.7a0878b4.js"><link rel="prefetch" href="/bot-doc/assets/js/40.827f5d16.js"><link rel="prefetch" href="/bot-doc/assets/js/41.f271db93.js"><link rel="prefetch" href="/bot-doc/assets/js/42.0a85d905.js"><link rel="prefetch" href="/bot-doc/assets/js/43.61ca7f3d.js"><link rel="prefetch" href="/bot-doc/assets/js/44.dd1787ee.js"><link rel="prefetch" href="/bot-doc/assets/js/45.f472a853.js"><link rel="prefetch" href="/bot-doc/assets/js/46.a5cf8193.js"><link rel="prefetch" href="/bot-doc/assets/js/47.56652151.js"><link rel="prefetch" href="/bot-doc/assets/js/48.a5af94a9.js"><link rel="prefetch" href="/bot-doc/assets/js/49.d9a38baf.js"><link rel="prefetch" href="/bot-doc/assets/js/5.a4b9db76.js"><link rel="prefetch" href="/bot-doc/assets/js/50.d163e34e.js"><link rel="prefetch" href="/bot-doc/assets/js/51.bb84e970.js"><link rel="prefetch" href="/bot-doc/assets/js/52.a37f1349.js"><link rel="prefetch" href="/bot-doc/assets/js/6.216be7b2.js"><link rel="prefetch" href="/bot-doc/assets/js/7.a0739e8f.js"><link rel="prefetch" href="/bot-doc/assets/js/8.4ce14e89.js"><link rel="prefetch" href="/bot-doc/assets/js/vendors~docsearch.1f8fb848.js">
    <link rel="stylesheet" href="/bot-doc/assets/css/0.styles.6701afdc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bot-doc/" class="home-link router-link-active"><img src="/bot-doc/images/vkg_logo.svg" alt="–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ &quot;–í–∏–∫–∏–Ω–≥&quot;" class="logo"> <span class="site-name can-hide">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ &quot;–í–∏–∫–∏–Ω–≥&quot;</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bot-doc/docs/introduction.html" class="nav-link">
  –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">üá∑üá∫ RU</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">üá∑üá∫ RU</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bot-doc/docs/c-api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  üá∑üá∫ RU
</a></li><li class="dropdown-item"><!----> <a href="/bot-doc/en/docs/c-api.html" class="nav-link">
  üá∫üá∏ EN
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bot-doc/docs/introduction.html" class="nav-link">
  –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">üá∑üá∫ RU</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">üá∑üá∫ RU</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bot-doc/docs/c-api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  üá∑üá∫ RU
</a></li><li class="dropdown-item"><!----> <a href="/bot-doc/en/docs/c-api.html" class="nav-link">
  üá∫üá∏ EN
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bot-doc/docs/change-history.html" class="sidebar-link">1. –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</a></li><li><a href="/bot-doc/docs/introduction.html" class="sidebar-link">2. –û –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</a></li><li><a href="/bot-doc/docs/interface.html" class="sidebar-link">3. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∞–π—Ç–∞</a></li><li><a href="/bot-doc/docs/getting-started.html" class="sidebar-link">4. –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</a></li><li><a href="/bot-doc/docs/stable-work.html" class="sidebar-link">5. –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</a></li><li><a href="/bot-doc/docs/creating-connection.html" class="sidebar-link">6. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π</a></li><li><a href="/bot-doc/docs/params-description.html" class="sidebar-link">7. –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</a></li><li><a href="/bot-doc/docs/algorithm-comments.html" class="sidebar-link">8. –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ –∞–ª–≥–æ—Ä–∏—Ç–º—É</a></li><li><a href="/bot-doc/docs/order-error.html" class="sidebar-link">9. –û—à–∏–±–∫–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —Å–Ω—è—Ç–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—è–≤–æ–∫</a></li><li><a href="/bot-doc/docs/c-api.html" aria-current="page" class="active sidebar-link">10. –§–æ—Ä–º—É–ª—ã –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C++</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-1-—Ä–µ–¥–∞–∫—Ç–æ—Ä-—Ñ–æ—Ä–º—É–ª" class="sidebar-link">10.1. –†–µ–¥–∞–∫—Ç–æ—Ä —Ñ–æ—Ä–º—É–ª</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-2-–±–∞–∑–æ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–Ω–∞–ø–∏—Å–∞–Ω–∏—è-—Ñ–æ—Ä–º—É–ª" class="sidebar-link">10.2. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-3-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏-–±–∏—Ä–∂–µ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö" class="sidebar-link">10.3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±–∏—Ä–∂–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-4-–±–∞–∑–æ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–æ—Ç–ª–∞–¥–∫–∏-—Ñ–æ—Ä–º—É–ª" class="sidebar-link">10.4. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ç–ª–∞–¥–∫–∏ —Ñ–æ—Ä–º—É–ª</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-5-–¥–æ—Å—Ç—É–ø-–∫-–±–∏—Ä–∂–µ–≤—ã–º-–¥–∞–Ω–Ω—ã–º-–ø–æ-—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º" class="sidebar-link">10.5. –î–æ—Å—Ç—É–ø –∫ –±–∏—Ä–∂–µ–≤—ã–º –¥–∞–Ω–Ω—ã–º –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-6-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-–ø–æ—Ä—Ç—Ñ–µ–ª—è" class="sidebar-link">10.6. –î–æ—Å—Ç—É–ø –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-7-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–∏-–ø–æ—Ä—Ç—Ñ–µ–ª—è" class="sidebar-link">10.7. –î–æ—Å—Ç—É–ø –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø–æ—Ä—Ç—Ñ–µ–ª—è</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-8-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–∑–∏—Ü–∏–∏-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" class="sidebar-link">10.8. –î–æ—Å—Ç—É–ø –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-9-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∫–ª–∞—Å—Å—ã-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã" class="sidebar-link">10.9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-10-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã-–∏-–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" class="sidebar-link">10.10. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-11-–ø—Ä–∏–º–µ—Ä—ã-–¥–æ—Å—Ç—É–ø–∞-–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º-–ø–æ—Ä—Ç—Ñ–µ–ª—è-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-—Å–¥–µ–ª–∫–∏-–ø–æ–∑–∏—Ü–∏–∏" class="sidebar-link">10.11. –ü—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –ø–æ—Ä—Ç—Ñ–µ–ª—è, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Å–¥–µ–ª–∫–∏, –ø–æ–∑–∏—Ü–∏–π</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-12-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-–∫–ª–∞—Å—Å–æ–≤" class="sidebar-link">10.12. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-13-–ø—Ä–∏–º–µ—Ä—ã-–Ω–∞–ø–∏—Å–∞–Ω–∏—è-ratio-buy-sell-formula" class="sidebar-link">10.13. –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è Ratio buy/sell formula</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-14-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤" class="sidebar-link">10.14. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤</a></li><li class="sidebar-sub-header"><a href="/bot-doc/docs/c-api.html#_10-15-–Ω–∞–∏–±–æ–ª–µ–µ-—á–∞—Å—Ç—ã–µ-–æ—à–∏–±–∫–∏-–≤-—Ñ–æ—Ä–º—É–ª–∞—Ö-–ø—Ä–∏–≤–æ–¥—è—â–∏–µ-–∫-–∞–≤–∞—Ä–∏–∏–Ω–æ–º—É-–∑–∞–≤–µ—Ä—à–µ–Ω–∏—é-—Ä–∞–±–æ—Ç—ã-—Ä–æ–±–æ—Ç–∞" class="sidebar-link">10.15. –ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º—É–ª–∞—Ö, –ø—Ä–∏–≤–æ–¥—è—â–∏–µ –∫ –∞–≤–∞—Ä–∏–π–Ω–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞</a></li></ul></li><li><a href="/bot-doc/docs/api.html" class="sidebar-link">11. WebSocket API</a></li><li><a href="/bot-doc/docs/comparison.html" class="sidebar-link">12. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ C++ —Ñ–æ—Ä–º—É–ª –∏ WebSocket API</a></li><li><a href="/bot-doc/docs/faq.html" class="sidebar-link">13. –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_10-—Ñ–æ—Ä–º—É–ª—ã-–Ω–∞-—è–∑—ã–∫–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è-c" tabindex="-1"><a href="#_10-—Ñ–æ—Ä–º—É–ª—ã-–Ω–∞-—è–∑—ã–∫–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è-c" class="header-anchor">#</a> <div class="anchor-container"><span id="cpp" class="anchor-target"></span><span id="formuli-na-yazike-programmirovaniya-c++" class="anchor-target"></span> <a href="#cpp" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10. –§–æ—Ä–º—É–ª—ã –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C++</h1> <p>–ö—Ä–æ–º–µ &quot;–æ–±—ã—á–Ω—ã—Ö&quot; –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ –µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—â–∞—è –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∫–æ–¥–∞ –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –°++. –ò–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –±—É–¥–µ–º –Ω–∞–∑—ã–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª–∞–º–∏. –í–µ–∑–¥–µ, –≥–¥–µ –µ—Å—Ç—å –≤—ã–±–æ—Ä –º–µ–∂–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–ª–∏ —Ñ–æ—Ä–º—É–ª—ã, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±—Ä–∞–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–Ω–∞—á–µ–Ω–∏–µ <code>ratio</code> –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–∞–Ω–æ –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã <a href="/bot-doc/docs/params-description.html#s.ratio">Ratio</a> –∏–ª–∏ –≤ –≤–∏–¥–µ —Ñ–æ—Ä–º—É–ª <a href="/bot-doc/docs/params-description.html#s.ratio_b_formula">Ratio buy formula</a> –∏ <a href="/bot-doc/docs/params-description.html#s.ratio_s_formula">Ratio sell formula</a>).
–§–æ—Ä–º—É–ª—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫—Ä–∞—Ç–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–∏–π —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π, —Ä–µ–∞–ª–∏–∑—É–µ–º—ã—Ö —Å –ø–æ–º–æ—â—å—é —Ä–æ–±–æ—Ç–∞, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —Ñ–æ—Ä–º—É–ª—ã, –≤ —Ä–µ–∂–∏–º–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏. –ù–∏–∂–µ –æ–ø–∏—Å–∞–Ω—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∞–º–∏—Ö —Ñ–æ—Ä–º—É–ª, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ –∏—Ö –Ω–∞–ø–∏—Å–∞–Ω–∏—é –∏ –æ—Ç–ª–∞–¥–∫–µ, –æ–ø–∏—Å–∞–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ–º—ã–µ –Ω–∞ –∫–æ–¥ —Ñ–æ—Ä–º—É–ª –∏ –¥–∞–Ω—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.</p> <h2 id="_10-1-—Ä–µ–¥–∞–∫—Ç–æ—Ä-—Ñ–æ—Ä–º—É–ª" tabindex="-1"><a href="#_10-1-—Ä–µ–¥–∞–∫—Ç–æ—Ä-—Ñ–æ—Ä–º—É–ª" class="header-anchor">#</a> <div class="anchor-container"><span id="redaktor-formul" class="anchor-target"></span> <a href="#redaktor-formul" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.1. –†–µ–¥–∞–∫—Ç–æ—Ä —Ñ–æ—Ä–º—É–ª</h2> <p>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã –Ω–∞ C++ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫–µ <code>Formulas</code> –≤ –æ–∫–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É <img src="/bot-doc/assets/img/settings_black.d5b3bfbb.svg" width="16" height="16"> :</p> <p>–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –≤–æ–∑–º–æ–∂–Ω–æ –∫–∞–∫ –¥–ª—è –≤—Å–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è, —Ç–∞–∫ –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.</p> <p>–í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –ø–æ–ª—è <a href="/bot-doc/docs/params-description.html#p.trade_formula">Trade formula</a>, <a href="/bot-doc/docs/params-description.html#p.ext_field1_">Extra field#1</a> –∏ <a href="/bot-doc/docs/params-description.html#p.ext_field2_">Extra field#2</a>.
–í–æ –≤—Ç–æ—Ä–æ–º <a href="/bot-doc/docs/params-description.html#s.count_formula">Count formula</a>, <a href="/bot-doc/docs/params-description.html#s.ratio_b_formula">Ratio buy formula</a>, <a href="/bot-doc/docs/params-description.html#s.ratio_s_formula">Ratio sell formula</a>.</p> <p>–í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —Ñ–æ—Ä–º—É–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª—ã (–∫–Ω–æ–ø–∫–∞ <code>Test</code>, –ø—Ä–∏ —ç—Ç–æ–º –≤ —Å—Ç—Ä–æ–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ñ–ª–∞–≥ <code>-DDEBUG</code>) –∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª—ã —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–ø–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è, –ù–û –µ—Å–ª–∏ –≤—ã –≤ —Ñ–æ—Ä–º—É–ª–µ –∏–∑–º–µ–Ω—è–µ—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –ø–æ—Ä—Ç—Ñ–µ–ª—è, –∏ —É –≤–∞—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—å —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º, —Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∫ —ç—Ç–æ–º—É –ø–æ—Ä—Ç—Ñ–µ–ª—é. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É <code>Test</code> —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏—è —Ñ–æ—Ä–º—É–ª—ã, –∞ –ø–æ—Ç–æ–º –µ–µ –≤—ã–∑–æ–≤ –Ω–∞ —Ç–µ–∫—É—â–∏—Ö —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ–∫—É—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π. –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ñ–æ—Ä–º—É–ª—ã –∏ –µ–µ —É—Å–ø–µ—à–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ –æ–¥–Ω–æ–º –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏—Ö –Ω–∞–±–æ—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö. –ó–∞–¥–∞—á–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Ñ–æ—Ä–º—É–ª—ã –ø—Ä–∏ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –∏ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º—É–ª–∞—Ö, –ø—Ä–∏–≤–æ–¥—è—â–∏–µ –≤ –∞–≤–∞—Ä–∏–π–Ω–æ–º—É –≤—ã–∫–ª—é—á–µ–Ω–∏—é —Ä–æ–±–æ—Ç–∞, –æ–ø–∏—Å–∞–Ω—ã <a href="#errors">—Ç—É—Ç</a>.</p> <p>–î–æ—Å—Ç—É–ø–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö, —Ç–∞–∫ –∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª.</p> <h2 id="_10-2-–±–∞–∑–æ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–Ω–∞–ø–∏—Å–∞–Ω–∏—è-—Ñ–æ—Ä–º—É–ª" tabindex="-1"><a href="#_10-2-–±–∞–∑–æ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–Ω–∞–ø–∏—Å–∞–Ω–∏—è-—Ñ–æ—Ä–º—É–ª" class="header-anchor">#</a> <div class="anchor-container"><span id="bazovie-printsipi-napisaniya-formul" class="anchor-target"></span> <a href="#bazovie-printsipi-napisaniya-formul" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.2. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª</h2> <ul><li>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ñ–æ—Ä–º—É–ª –≤—ã –ø–∏—à–µ—Ç–µ –∫–æ–¥ –Ω–∞ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C++ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç C++17), –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∞–≤–∞—Ä–∏–π–Ω–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞, —Ç–æ–ª—å–∫–æ –≤—ã –Ω–µ—Å–µ—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –≤–∞—à–µ–≥–æ –∫–æ–¥–∞;</li> <li>–í—ã –ø–∏—à–µ—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ–ª–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ <code>double</code>;</li> <li>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ;</li> <li>–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ —Å–µ—Ç—å—é (–æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–æ–∫–µ—Ç–æ–≤ –∏ —Ç.–¥.) –≤ –ª—é–±–æ–º –≤–∏–¥–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —Ç–æ –¥–ª—è —ç—Ç–∏—Ö —Ü–µ–ª–µ–π –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <a href="/bot-doc/docs/api.html#api">WebSocket API</a>;</li> <li>–û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–æ–±–æ—Ç–∞ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π, —Ñ–æ—Ä–º—É–ª—ã —è–≤–ª—è—é—Ç—Å—è –µ–≥–æ –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–æ–π —á–∞—Å—Ç—å—é –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–æ—Ç–æ–∫–µ. –¢.–µ. –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —á–∞—Å—Ç–µ–π –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –ü–æ—ç—Ç–æ–º—É —Ñ–æ—Ä–º—É–ª—ã –Ω–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –¢–∞–∫ –∂–µ, —Ñ–æ—Ä–º—É–ª—ã –Ω–µ –º–æ–≥—É—Ç –æ–∂–∏–¥–∞—Ç—å –≤ —Ü–∏–∫–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º —Ä–æ–±–æ—Ç–∞, —Ç–∞–∫ –∫–∞–∫ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–∏–∫–ª–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–æ—Ä–º—É–ª–µ —Ä–∞—Å—á—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Ö –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è;</li> <li>–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Å–ª–æ–≤: <code>\001</code>, <code>#nl</code>, <code>#tab</code>;</li> <li>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—É–ª –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç <code>12000</code> –±–∞–π—Ç (—ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤ <a href="/bot-doc/docs/api.html#get_template_id">—à–∞–±–ª–æ–Ω–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è</a>).
–î–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–æ –∫–∞–∫ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ —Ü–µ–ª–æ–º, –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–¥–∞. –ï—Å–ª–∏ –¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, —Ç–æ
—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ –∫–æ–¥–µ (–æ—Å–æ–±–µ–Ω–Ω–æ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏), –∞ —Ç–∞–∫–∂–µ —É–º–µ–Ω—å—à–∏—Ç—å –¥–ª–∏–Ω—É –∏–º–µ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –¥–ª–∏–Ω—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —Ñ–æ—Ä–º—É–ª—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –µ—Å–ª–∏ –∂–µ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á—Ç–æ-—Ç–æ –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª–µ–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ, —Ç–æ –¥–ª—è —ç—Ç–∏—Ö —Ü–µ–ª–µ–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <a href="/bot-doc/docs/api.html#api">WebSocket API</a>;</li> <li>–í—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ –∫–æ–¥–∞ —Ñ–æ—Ä–º—É–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º–∏ <code>UTF-8</code> —Å—Ç—Ä–æ–∫–∞–º–∏, –≤—Å–µ –ª–∏–º–∏—Ç—ã –¥–ª–∏–Ω —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª–µ–π –ø–æ—Ä—Ç—Ñ–µ–ª—è, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç.–¥. —É–∫–∞–∑–∞–Ω—ã –≤ –¥–∞–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –≤ —à–∞–±–ª–æ–Ω–∞—Ö –≤ –±–∞–π—Ç–∞—Ö;</li> <li>–í–µ–∑–¥–µ –≤ —Ä–æ–±–æ—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤ –∑–∞—è–≤–∫–∞—Ö/—Å–¥–µ–ª–∫–∞—Ö –∏ –≤ –ø–æ–∑–∏—Ü–∏—è—Ö - —ç—Ç–æ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, —Å–¥–µ–ª–∞–Ω–æ —ç—Ç–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –∏–º–µ—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –Ω–∞–¥ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏. –í –°++ API –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–∑–∏—Ü–∏–∏ —Ç–æ–∂–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –ø–æ —Ç–æ–π –∂–µ –ø—Ä–∏—á–∏–Ω–µ. –î–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤ –∏ –ø–æ–∑–∏—Ü–∏–π –≤ —Ç—É –∂–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–∞—Ö –±–∏—Ä–∂ (–¥–ª—è —Ç–µ—Ö –±–∏—Ä–∂ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω—ã –¥—Ä–æ–±–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—è—Ö), –≤ —Ç–µ—Ö –æ–±—ä–µ–∫—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã—Ö –∫–∞—Å–∞–µ—Ç—Å—è –æ–ø–∏—Å–∞–Ω–Ω–∞—è –≤—ã—à–µ –ø—Ä–æ–±–ª–µ–º–∞, –µ—Å—Ç—å –ø–æ–ª–µ <code>lot_size</code>. –î–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏–∑ —Ü–µ–ª—ã—Ö –≤ –¥—Ä–æ–±–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ <code>lot_size</code>, –∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏–∑ –¥—Ä–æ–±–Ω—ã—Ö –≤ —Ü–µ–ª—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ <code>lot_size</code>. –î–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –∫–æ—Ç–æ—Ä—ã—Ö –∫–∞—Å–∞–µ—Ç—Å—è <code>lot_size</code>, –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–º–µ—Ç–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —ç—Ç–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤;</li> <li>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ñ–æ—Ä–º—É–ª –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π. –ï—Å–ª–∏ –∫–∞–∫–∏–µ-–ª–∏–±–æ –º–µ—Ç–æ–¥—ã, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ, –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–æ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω–æ –∫–∞–∫–æ–µ –∏–º–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±—Ä–æ—à–µ–Ω–æ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –í–∞—à–µ–≥–æ –∫–æ–¥–∞ –¥–∞–∂–µ –≤ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–∏—à—É—Ç—Å—è –≤ –ª–æ–≥, –∏ —Å–Ω–∏–∂–∞–µ—Ç —à–∞–Ω—Å –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ—Å–∫—Ä—ã–≤–∞–µ–º—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ –æ—à–∏–±–∫–∞—Ö;</li> <li>–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ª—é–±–æ–º—É –ø–æ—Ä—Ç—Ñ–µ–ª—é —Ä–æ–±–æ—Ç–∞, –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –ø–æ—Ä—Ç—Ñ–µ–ª—è —Ä–æ–±–æ—Ç–∞, –∞ —Ç–∞–∫–∂–µ –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –±–∏—Ä–∂–∏, –∫–æ—Ç–æ—Ä—ã–π —Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç —Ö–æ—Ç—è –±—ã –≤ –æ–¥–Ω–æ–º –∏–∑ –≤–∞—à–∏—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π;</li> <li>–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª–µ–π –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π –∫–∞–∫–∏—Ö-—Ç–æ –ø–æ–ª–µ–π, –≤—ã –º–æ–∂–µ—Ç–µ &quot;—Å–ª–æ–º–∞—Ç—å&quot; —Ä–∞–±–æ—Ç—É —à—Ç–∞—Ç–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–æ–±–æ—Ç–∞, –∏–º–µ–π—Ç–µ —ç—Ç–æ –≤ –≤–∏–¥—É. –í —Å–≤—è–∑–∏ —Å —ç—Ç–∏–º –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º –≤ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π —Å –ø–æ—Ä—Ç—Ñ–µ–ª—è–º–∏ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –ø—É–Ω–∫—Ç <a href="/bot-doc/docs/getting-started.html#portfolio_actions.stop_formulas">Stop formulas</a>;</li> <li>–ü–æ—Ä—Ç—Ñ–µ–ª—å (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ <code>portfolio</code>) —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥ <code>data()</code>, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–ª–æ–≤–∞—Ä—é, –≤ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ —Ñ–æ—Ä–º—É–ª (–≤ API —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ù–ï –¥–æ—Å—Ç—É–ø–Ω—ã, –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ —Ä–æ–±–æ—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è);</li> <li>–ü–æ—Ä—Ç—Ñ–µ–ª—å (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ <code>portfolio</code>) —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã <code>uf0(), ..., uf19()</code> –∏ <code>set_uf0(), ..., set_uf19()</code>, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –ø–æ–ª—è–º, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Å—Ç—è –≤ —à—Ç–∞—Ç–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–æ–±–æ—Ç–∞ –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π –¥–æ—Å—Ç—É–ø–Ω—ã –≤ API, —ç—Ç–æ —Ç–∞–∫–∏–µ –∂–µ –ø–æ–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª—è, –∫–∞–∫ –∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ, –Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).</li></ul> <p><strong>–í–∞–∂–Ω–æ!</strong> –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –µ—â–µ –Ω–µ –±—ã–ª–æ –ø–æ–ª—É—á–µ–Ω–æ —Å –±–∏—Ä–∂–∏ –∏–ª–∏ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å –¥–∞–Ω–Ω–æ–π –±–∏—Ä–∂–∏ –Ω–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–æ–ª—è, —Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ <code>0</code>. –ù—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —á—Ç–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –ø—É—Å—Ç–æ–º —Å—Ç–∞–∫–∞–Ω–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å <code>0</code> –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ü–µ–Ω—ã –±–∏–¥–∞ –∏–ª–∏ –æ—Ñ—Ñ–µ—Ä–∞,
–ø–æ—ç—Ç–æ–º—É –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –Ω—É–ª—é –≤ —Ç–µ—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –≥–¥–µ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –∏–ª–∏ –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∏–¥–∞ –∏ –æ—Ñ—Ñ–µ—Ä–∞). –ê —á—Ç–æ–±—ã –æ—Ç–ª–∏—á–∏—Ç—å —Ä–µ–ª—å–Ω–æ –Ω—É–ª–µ–≤–æ–π –±–∏–¥/–æ—Ñ—Ñ–µ—Ä –æ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ü–µ–Ω—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—ä–µ–º –±–∏–¥–∞/–æ—Ñ—Ñ–µ—Ä–∞.</p> <p><strong>–í–∞–∂–Ω–æ!</strong> –ù–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞, —Ç.–∫. –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.</p> <p><strong>–í–∞–∂–Ω–æ!</strong> –ï—Å–ª–∏ —Ñ–æ—Ä–º—É–ª—ã –∏–∑–º–µ–Ω—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫–∏—Ö-—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º, —Ç–æ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∏—Ç—å &quot;–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ&quot; –ø–æ–≤–µ–¥–µ–Ω–∏–µ.</p> <h2 id="_10-3-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏-–±–∏—Ä–∂–µ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö" tabindex="-1"><a href="#_10-3-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏-–±–∏—Ä–∂–µ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö" class="header-anchor">#</a> <div class="anchor-container"><span id="md-filter" class="anchor-target"></span><span id="rekomendatsii-po-filtratsii-birzhevikh-dannikh" class="anchor-target"></span> <a href="#md-filter" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±–∏—Ä–∂–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h2> <ul><li>–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É/–ø—Ä–æ–¥–∞–∂—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å <a href="#bid-offer-check">–µ—Å—Ç—å –ª–∏ —ç—Ç–∏ —Ü–µ–Ω—ã –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ</a> (—Ç.–µ. —Ü–µ–Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏ –æ–±—ä–µ–º —ç—Ç–æ–π —Ü–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–ª–∏—á–Ω—ã –æ—Ç –Ω—É–ª—è)</li> <li>–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç–∞–∫–∞–Ω—ã, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å <a href="#order-book-check">–¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –≤–æ–æ–±—â–µ —Å—Ç–∞–∫–∞–Ω –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</a>. –¢–∞–∫ –∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—É—é –∏–∑ —Å—Ç–æ—Ä–æ–Ω —Å—Ç–∞–∫–∞–Ω–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É</li> <li>–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É/–ø—Ä–æ–¥–∞–∂—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏/–∏–ª–∏ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç–∞–∫–∞–Ω—ã, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ –ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ —Å—Ç—Ä–æ–≥–æ –º–µ–Ω—å—à–µ –ª—É—á—à–µ–π —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏ (–¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±–∏—Ä–∂ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
–∫–æ–≥–¥–∞ –ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ –ª—É—á—à–µ–π —Ü–µ–Ω–µ –ø—Ä–æ–¥–∞–∂–∏, –Ω–æ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ –ø–æ –∫–∞–∫–æ–π –ª–æ–≥–∏–∫–µ –≤ —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é, –ª–µ–≥–∫–æ –Ω–∞—á–∞—Ç—å –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∑–∞–≤–µ–¥–æ–º–æ –¥–µ—à–µ–≤–ª–µ, —á–µ–º –ø–æ–∫—É–ø–∞–µ—à—å)</li> <li>–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–∏—Ö –±–∏—Ä–∂–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ <a href="#market-data-check">–º–∞—Ä–∫–µ—Ç-–¥–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ (<code>online</code>)</a></li> <li>–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å <a href="#trading-status-check">—Ç–æ—Ä–≥—É–µ—Ç—Å—è –ª–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ –±–∏—Ä–∂–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç</a></li></ul> <h2 id="_10-4-–±–∞–∑–æ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–æ—Ç–ª–∞–¥–∫–∏-—Ñ–æ—Ä–º—É–ª" tabindex="-1"><a href="#_10-4-–±–∞–∑–æ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–æ—Ç–ª–∞–¥–∫–∏-—Ñ–æ—Ä–º—É–ª" class="header-anchor">#</a> <div class="anchor-container"><span id="cpp-debug" class="anchor-target"></span><span id="bazovie-printsipi-otladki-formul" class="anchor-target"></span> <a href="#cpp-debug" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.4. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ç–ª–∞–¥–∫–∏ —Ñ–æ—Ä–º—É–ª</h2> <ul><li>–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É—è <code>debug output</code></li> <li>–í—ã–≤–æ–¥ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –≤ –ª–æ–≥, –∏—Å–ø–æ–ª—å–∑—É—è <a href="#cpp-debug-functions">—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</a></li> <li>–¢.–∫. –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Ä–æ–±–æ—Ç–∞ –¥–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–∞–π—Ç–∞ —Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Å–µ—Ç—å, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ &quot;–Ω–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞&quot; –∏ &quot;–Ω–µ –æ—á–µ–Ω—å —á–∞—Å—Ç–æ&quot; (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –º–Ω–æ–≥–æ, —Å–æ–æ–±—â–µ–Ω–∏–π –±—É–¥–µ—Ç —Ç–æ–∂–µ –º–Ω–æ–≥–æ, –¥–æ—Ö–æ–¥–∏—Ç—å –¥–æ –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
–æ–Ω–∏ –±—É–¥—É—Ç –ø–∞—á–∫–∞–º–∏ –∏ –¥–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–π–º–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∫–∞–∫ –∏—Ç–æ–≥ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞–º–Ω–æ–≥–æ –ø–æ–∑–∂–µ, —á–µ–º –≤—ã —Ä–µ–∞–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –µ–≥–æ –≤ –ª–æ–≥)</li> <li>–ß—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø–∏—Å–µ–π –≤ –ª–æ–≥ –≤ —Ü–µ–ª—è—Ö –æ—Ç–ª–∞–¥–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <a href="#timers">—Ç–∞–π–º–µ—Ä</a> (–ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ –±–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å –∏ —Å–∞–º —Ç–∞–π–º–µ—Ä –∏ –≤—ã–≤–æ–¥ –≤ –ª–æ–≥)</li> <li>–¢.–∫. –æ—Ç–ª–∞–¥–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–¥–∞ –æ–±—ã—á–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ü–µ–Ω —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ–ª—É—á–∞–µ–º—ã—Ö —Å –±–∏—Ä–∂–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∫–æ–¥ –Ω–∞ –Ω–∏–∑–≤–æ–ª–∏–∫–≤–∏–¥–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–æ –º–µ–Ω—å—à–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –±—ã–ª–æ –ø—Ä–æ—â–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</li></ul> <p>–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ –ª–æ–≥ –æ–¥–∏–Ω —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª–µ–π –ø–æ—Ä—Ç—Ñ–µ–ª—è <a href="/bot-doc/docs/params-description.html#p.lim_s">Lim_sell</a> –∏ <a href="/bot-doc/docs/params-description.html#p.lim_b">Lim_buy</a>:</p> <div class="language-C extra-class"><pre class="language-c"><code><span class="token keyword">static</span> timers<span class="token operator">::</span>timer <span class="token function">t</span><span class="token punctuation">(</span><span class="token number">1000000000LL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>stringstream s<span class="token punctuation">;</span>
    s <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>fixed <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Lim_sell=&quot;</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">lim_s</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;, Lim_buy=&quot;</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">lim_b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">log_info</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_10-5-–¥–æ—Å—Ç—É–ø-–∫-–±–∏—Ä–∂–µ–≤—ã–º-–¥–∞–Ω–Ω—ã–º-–ø–æ-—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º" tabindex="-1"><a href="#_10-5-–¥–æ—Å—Ç—É–ø-–∫-–±–∏—Ä–∂–µ–≤—ã–º-–¥–∞–Ω–Ω—ã–º-–ø–æ-—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º" class="header-anchor">#</a> <div class="anchor-container"><span id="market-data-access" class="anchor-target"></span><span id="dostup-k-birzhevim-dannim-po-finansovim-instrumentam" class="anchor-target"></span> <a href="#market-data-access" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.5. –î–æ—Å—Ç—É–ø –∫ –±–∏—Ä–∂–µ–≤—ã–º –¥–∞–Ω–Ω—ã–º –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º</h2> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏—è</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>struct security get_security(const std::string&amp; s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ –µ–≥–æ <a href="/bot-doc/docs/params-description.html#s.sec_key">SecKey</a> s</td></tr> <tr><td>struct security get_security(const char* s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ –µ–≥–æ <a href="/bot-doc/docs/params-description.html#s.sec_key">SecKey</a> s</td></tr> <tr><td>struct security get_security()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≥–ª–∞–≤–Ω–æ–º—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>struct security get_security(const security_fields&amp; sf)</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–¥–∞–Ω–Ω–æ–º—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>security</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>double theor_price()</td> <td>—Ä–∞—Å—á–µ—Ç–Ω–∞—è —Ü–µ–Ω–∞, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–æ–≤</td></tr> <tr><td>double bid()<div class="anchor-container"><span id="bid-offer-check" class="anchor-target"></span> <!----></div></td> <td>–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É (<code>0</code> –µ—Å–ª–∏ —Ü–µ–Ω—ã –Ω–µ—Ç, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–º–µ—Å—Ç–µ —Å <code>amount_bid</code>)</td></tr> <tr><td>double offer()</td> <td>–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É (<code>0</code> –µ—Å–ª–∏ —Ü–µ–Ω—ã –Ω–µ—Ç, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–º–µ—Å—Ç–µ —Å <code>amount_offer</code>)</td></tr> <tr><td>double mid_price()</td> <td>—Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –ª—É—á—à–∏—Ö —Ü–µ–Ω–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏ –ø—Ä–æ–¥–∞–∂—É, –µ—Å–ª–∏ –æ–¥–Ω–æ–π –∏–∑ —Ü–µ–Ω –Ω–µ—Ç, —Ç–æ —ç—Ç–æ –≤—Ç–æ—Ä–∞—è —Ü–µ–Ω–∞, –µ—Å–ª–∏ –Ω–µ—Ç –æ–±–µ–∏—Ö —Ü–µ–Ω, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::range_error</code></td></tr> <tr><td>double exp_date()</td> <td>–¥–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏, –≤ —Ñ–æ—Ä–º–∞—Ç–µ epoch</td></tr> <tr><td>double strike()</td> <td>—Ü–µ–Ω–∞ —Å—Ç—Ä–∞–π–∫, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É –æ–ø—Ü–∏–æ–Ω–æ–≤</td></tr> <tr><td>long long amount_offer()</td> <td>–æ–±—ä–µ–º –æ—Ñ—Ñ–µ—Ä–∞ –≤ –ª–æ—Ç–∞—Ö</td></tr> <tr><td>long long amount_bid()</td> <td>–æ–±—ä–µ–º –±–∏–¥–∞ –≤ –ª–æ—Ç–∞—Ö</td></tr> <tr><td>double limit_up()</td> <td>—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π –≤–µ—Ä—Ö–Ω–∏–π –ª–∏–º–∏—Ç —Ü–µ–Ω—ã</td></tr> <tr><td>double limit_down()</td> <td>—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π –Ω–∏–∂–Ω–∏–π –ª–∏–º–∏—Ç —Ü–µ–Ω—ã</td></tr> <tr><td>int trading_status()<div class="anchor-container"><span id="trading-status-check" class="anchor-target"></span> <!----></div></td> <td>—Å—Ç–∞—Ç—É—Å —Ç–æ—Ä–≥—É–µ–º–æ—Å—Ç–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞ –±–∏—Ä–∂–µ (–±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞, –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∑–≤–µ–¥–µ–Ω–Ω—ã–µ –±–∏—Ç—ã <a href="#__trading_can_place__">TRADING_CAN_PLACE</a> –∏ <a href="#__trading_can_cancel__">TRADING_CAN_CANCEL</a>, <a href="#__sec_status_check__">–ø—Ä–∏–º–µ—Ä</a>)</td></tr> <tr><td>int conn_online()<div class="anchor-container"><span id="market-data-check" class="anchor-target"></span> <!----></div></td> <td>—Å—Ç–∞—É—Å—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–∞—Ä–∫–µ—Ç-–¥–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Ä–æ–±–æ—Ç–µ (–±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞, –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∑–≤–µ–¥–µ–Ω–Ω—ã–µ –±–∏—Ç—ã <a href="#__market_data_bests_online__">MARKET_DATA_BESTS_ONLINE</a> –∏ <a href="#__market_data_ob_online__">MARKET_DATA_OB_ONLINE</a>, <a href="#__sec_status_check__">–ø—Ä–∏–º–µ—Ä</a>)</td></tr> <tr><td>double min_step()</td> <td>–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–≥ —Ü–µ–Ω—ã</td></tr> <tr><td>double lot_round()</td> <td>–¥–ª—è —Ñ–æ–Ω–¥–æ–≤–æ–≥–æ/–≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ä—ã–Ω–∫–æ–≤ –ú–æ—Å–±–∏—Ä–∂–∏ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–Ω–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ª–æ—Ç–µ; –¥–ª—è –∫—Ä–∏–ø—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (–µ—Å—Ç—å –Ω–µ –≤–æ –≤—Å–µ—Ö –∫—Ä–∏–ø—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è—Ö) - –∑–Ω–∞—á–µ–Ω–∏–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –æ–±—ä—ë–º–∞ –ø—Ä–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä—ë–º –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è - 10, –æ–±—ä—ë–º –±—É–¥–µ—Ç –æ–∫—Ä—É–≥–ª—è—Ç—å—Å—è –¥–æ —á–∏—Å–ª–∞ –∫—Ä–∞—Ç–Ω–æ–≥–æ 10, —ç—Ç–æ –∏ –µ—Å—Ç—å <code>lot_round</code>)</td></tr> <tr><td>double lot_size()</td> <td>–º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¥—Ä–æ–±–Ω—ã—Ö –æ–±—ä–µ–º–æ–≤ –≤ —Ü–µ–ª—ã–µ</td></tr> <tr><td>double funding_rate()</td> <td>—Å—Ç–∞–≤–∫–∞ —Ñ–æ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏—è</td></tr> <tr><td>long long funding_time()</td> <td>–≤—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ–æ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ epoch</td></tr> <tr><td>const spb_commons&amp; spb_common()</td> <td>—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –ø–æ–ª—è–º–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –Ω–∏–∂–µ</td></tr> <tr><td>order_book orderbook()</td> <td>—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –º–µ—Ç–æ–¥–∞–º–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –Ω–∏–∂–µ</td></tr></tbody></table> <p>–ü–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã <code>spb_commons</code> (–∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–ª–∏—á–Ω—ã –æ—Ç –Ω—É–ª—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å <code>SPBEX</code>):</p> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th> <th>–¢–∏–ø</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>price_last</td> <td>double</td> <td>—Ü–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏</td></tr> <tr><td>price_open</td> <td>double</td> <td>—Ü–µ–Ω–∞ –ø–µ—Ä–≤–æ–π —Å–¥–µ–ª–∫–∏ –∑–∞ —Å–µ—Å—Å–∏—é</td></tr> <tr><td>price_close</td> <td>double</td> <td>–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è</td></tr> <tr><td>price_high</td> <td>double</td> <td>—Å–¥–µ–ª–∫–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π</td></tr> <tr><td>price_low</td> <td>double</td> <td>—Å–¥–µ–ª–∫–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π</td></tr> <tr><td>price_auction_close_prev</td> <td>double</td> <td>—Ü–µ–Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¥–Ω—è</td></tr> <tr><td>price_halt</td> <td>double</td> <td>—Ü–µ–Ω–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–æ–∫</td></tr> <tr><td>price_official_min_time</td> <td>long long</td> <td>–≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã</td></tr> <tr><td>price_indicative</td> <td>double</td> <td>—Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ —Ä—ã–Ω–∫–∞</td></tr> <tr><td>price_close_prev</td> <td>double</td> <td>–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¥–Ω—è</td></tr> <tr><td>price_official</td> <td>double</td> <td>–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –æ–Ω–ª–∞–π–Ω (—Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞)</td></tr> <tr><td>price_vwap_day_prev</td> <td>double</td> <td>—Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¥–Ω—è</td></tr> <tr><td>price_vwap_day</td> <td>double</td> <td>—Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è</td></tr> <tr><td>price_current</td> <td>double</td> <td>—Ç–µ–∫—É—â–∞—è –∫–æ—Ç–∏—Ä–æ–≤–∫–∞</td></tr> <tr><td>price_average</td> <td>double</td> <td>—Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞</td></tr> <tr><td>time_last</td> <td>long long</td> <td>–≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏</td></tr> <tr><td>price_prev_period_close</td> <td>double</td> <td>—Ü–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¥–Ω—è</td></tr></tbody></table> <p><a href="#__Example1__"><em>–ü—Ä–∏–º–µ—Ä:</em></a> –ü—Ä–∏–º–µ—Ä –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã <code>spb_commons</code>.</p> <p>–ú–µ—Ç–æ–¥—ã <code>order_book</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>bool is_available()<div class="anchor-container"><span id="order-book-check" class="anchor-target"></span> <!----></div></td> <td>–¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å—Ç–∞–∫–∞–Ω</td></tr> <tr><td>bool has_next_bid()</td> <td>–µ—Å—Ç—å –ª–∏ –µ—â–µ –±–∏–¥ –≤ —Å–ø–∏—Å–∫–µ –±–∏–¥–æ–≤</td></tr> <tr><td>bool has_next_offer()</td> <td>–µ—Å—Ç—å –ª–∏ –µ—â–µ –æ—Ñ—Ñ–µ—Ä –≤ —Å–ø–∏—Å–∫–µ –æ—Ñ—Ñ–µ—Ä–æ–≤</td></tr> <tr><td>std::pair next_bid()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–∏–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ø–∞—Ä–∞: —Ü–µ–Ω–∞ + –æ–±—ä–µ–º (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ std::out_of_range) –∏ –ø–µ—Ä–µ–¥–≤–∏–Ω—É—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –±–∏–¥ –≤ —Å–ø–∏—Å–∫–µ</td></tr> <tr><td>std::pair next_offer()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –æ—Ñ—Ñ–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ø–∞—Ä–∞: —Ü–µ–Ω–∞ + –æ–±—ä–µ–º (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ std::out_of_range) –∏ –ø–µ—Ä–µ–¥–≤–∏–Ω—É—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –æ—Ñ—Ñ–µ—Ä –≤ —Å–ø–∏—Å–∫–µ</td></tr></tbody></table> <p>–ü–æ —Å–≤–æ–µ–π —Å—É—Ç–∏ <code>order_book</code> —è–≤–ª—è–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º —Å—Ä–∞–∑—É –¥–ª—è –¥–≤—É—Ö —Å–ø–∏—Å–∫–æ–≤: –±–∏–¥–æ–≤ –∏ –æ—Ñ—Ñ–µ—Ä–æ–≤, –æ–±–∞ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –æ—Ç –ª—É—á—à–µ–π —Ü–µ–Ω—ã –≤ —Å—Ç–æ—Ä–æ–Ω—É —Ö—É–¥—à–∏—Ö. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â—É—é —Ü–µ–Ω—É –≤ —Å–ø–∏—Å–∫–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π - —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –µ–µ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ <code>order_book</code> –∑–∞–Ω–æ–≤–æ.</p> <p><a href="#__Example8__"><em>–ü—Ä–∏–º–µ—Ä:</em></a> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã <code>order_book</code>.</p> <h2 id="_10-6-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-–ø–æ—Ä—Ç—Ñ–µ–ª—è" tabindex="-1"><a href="#_10-6-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-–ø–æ—Ä—Ç—Ñ–µ–ª—è" class="header-anchor">#</a> <div class="anchor-container"><span id="–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–π-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-–ø–æ—Ä—Ç—Ñ–µ–ª—è" class="anchor-target"></span><span id="dostup-i-izmenenie-polei-instrumenta-portfelya" class="anchor-target"></span> <a href="#–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–π-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-–ø–æ—Ä—Ç—Ñ–µ–ª—è" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.6. –î–æ—Å—Ç—É–ø –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</h2> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏—è</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>struct security_fields get_security_fields(const std::string&amp; p, const std::string&amp; s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å –∏–º–µ–Ω–µ–º p —Å <a href="/bot-doc/docs/params-description.html#s.sec_key">SecKey</a> s</td></tr> <tr><td>struct security_fields get_security_fields()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>struct security_fields get_security_fields(const std::string&amp; s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å <a href="/bot-doc/docs/params-description.html#s.sec_key">SecKey</a> s</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>security_fields</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>order_pool orders()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø—É–ª –∑–∞—è–≤–æ–∫</td></tr> <tr><td>long long sec_type()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Exchange&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>std::string sec_key()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;SecKey&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int put()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Put&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double lot_size()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¥—Ä–æ–±–Ω—ã—Ö –æ–±—ä–µ–º–æ–≤ –≤ —Ü–µ–ª—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long pos()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Curpos&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long count()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Count&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int depth_ob()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Depth OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int ob_c_p_t()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Calc price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int ob_t_p_t()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Trading price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int decimals()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Decimals&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double d_pg()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;date pagination&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>std::string client_code()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Client code&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool is_first()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Is first&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int on_buy()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;On buy&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int leverage()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Leverage&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>std::string sec_board()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;SecBoard&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>std::string sec_code()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;SecCode&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int count_type()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Count type&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double k()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;k&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool sle()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;SLE&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double sl()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;SL&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double tp()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;TP&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double k_sl()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;k_sl&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool te()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;TE&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int timer()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Timer&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int ratio_sign()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Ratio sign&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int ratio_type()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Ratio type&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double ratio_b()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Ratio&quot; –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–æ–∫—É–ø–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double ratio_s()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Ratio&quot; –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double percent_of_quantity()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Percent of quantity&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double fin_res_mult()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Fin res multiplier&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int comission_sign()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Commission type&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double comission()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Commission&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool mm()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;MM&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool maker()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Only maker&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool move_limits()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;FUT move limits&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool move_limits1()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;SPOT move limits&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int depth_ob()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Depth OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int ob_c_p_t()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Calc price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int ob_t_p_t()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Trading price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double mc_level_to0()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Level to0&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double mc_level_close()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Level close&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long max_trans_musec()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Max trans time&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long ban_period()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Ban period&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>void set_count(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Count&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_depth_ob(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Depth OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_ob_c_p_t(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Calc price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_ob_t_p_t(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Trading price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_decimals(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Decimals&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_client_code(const std::string&amp; v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Client code&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_on_buy(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;On buy&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_leverage(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Leverage&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_count_type(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Count type&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_k(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;k&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_sle(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;SLE&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_sl(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;SL&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_tp(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;TP&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_k_sl(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;k_sl&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_te(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;TE&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_timer(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Timer&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_ratio_sign(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Ratio sign&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_ratio_type(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Ratio type&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_percent_of_quantity(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Percent of quantity&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_fin_res_mult(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Fin res multiplier&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_comission_sign(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Commission type&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_comission(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Commission&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_mm(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;MM&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_maker(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Only maker&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_move_limits(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;FUT move limits&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_move_limits1(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;SPOT move limits&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_depth_ob(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Depth OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_ob_c_p_t(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Calc price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_ob_t_p_t(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Trading price OB&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_mc_level_to0(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Level to0&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_mc_level_close(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Level close&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_max_trans_musec(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Max trans time&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_ban_period(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Ban period&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>order_pool</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>bool has_next()</td> <td>–µ—Å—Ç—å –ª–∏ –µ—â–µ –∑–∞—è–≤–∫–∞ –≤ —Å–ø–∏—Å–∫–µ –∑–∞—è–≤–æ–∫</td></tr> <tr><td>order_item next()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –∑–∞—è–≤–∫—É (–µ—Å–ª–∏ –µ–µ –Ω–µ—Ç, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ std::out_of_range) –∏ –ø–µ—Ä–µ–¥–≤–∏–Ω—É—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∑–∞—è–≤–∫—É –≤ —Å–ø–∏—Å–∫–µ</td></tr></tbody></table> <p>–ü–æ —Å–≤–æ–µ–π —Å—É—Ç–∏ <code>order_pool</code> —è–≤–ª—è–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Ä–æ–±–æ—Ç–∞. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â—É—é –∑–∞—è–≤–∫—É –≤ —Å–ø–∏—Å–∫–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π - —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –µ–µ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ <code>order_pool</code> –∑–∞–Ω–æ–≤–æ.</p> <p>–ü–æ–ª—è <code>order_item</code>:</p> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th> <th>–¢–∏–ø</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>price</td> <td>double</td> <td>—Ü–µ–Ω–∞</td></tr> <tr><td>amount</td> <td>long long</td> <td>–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ</td></tr> <tr><td>amount_rest</td> <td>long long</td> <td>–æ—Å—Ç–∞—Ç–æ–∫</td></tr> <tr><td>dir</td> <td>int</td> <td>–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</td></tr> <tr><td>status</td> <td>int</td> <td>—Å—Ç–∞—Ç—É—Å</td></tr></tbody></table> <p><code>order_item</code> —è–≤–ª—è–µ—Ç—Å—è –∑–∞—è–≤–∫–æ–π —Ä–æ–±–æ—Ç–∞, –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π <code>dir</code> –∏ <code>status</code> –æ–ø–∏—Å–∞–Ω—ã –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö.</p> <p><a href="#__Example9__"><em>–ü—Ä–∏–º–µ—Ä:</em></a> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä <code>order_pool</code> –∏ <code>order_item</code></p> <h2 id="_10-7-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–∏-–ø–æ—Ä—Ç—Ñ–µ–ª—è" tabindex="-1"><a href="#_10-7-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–ª–µ–∏-–ø–æ—Ä—Ç—Ñ–µ–ª—è" class="header-anchor">#</a> <div class="anchor-container"><span id="portfolio-field-access" class="anchor-target"></span><span id="dostup-i-izmenenie-polei-portfelya" class="anchor-target"></span> <a href="#portfolio-field-access" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.7. –î–æ—Å—Ç—É–ø –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø–æ—Ä—Ç—Ñ–µ–ª—è</h2> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏—è</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>struct portfolio get_portfolio(const std::string&amp; p)</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—å c –∏–º–µ–Ω–µ–º p</td></tr> <tr><td>struct portfolio get_portfolio()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>portfolio</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>void restart_sec_iter()</td> <td>–∏–Ω—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä (–¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ù–ï–õ–¨–ó–Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏—Ç–µ—Ä–∞—Ç–æ—Ä –≤–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –¥—Ä—É–≥–æ–π, –ø–æ—Ä—è–¥–æ–∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ –ù–ï –æ–ø—Ä–µ–¥–µ–ª–µ–Ω)</td></tr> <tr><td>bool has_next_sec()</td> <td>–µ—Å—Ç—å –ª–∏ –µ—â–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ —Å–ø–∏—Å–∫–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>security_fields next_sec()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è (<a href="#__Example3__"> –ø—Ä–∏–º–µ—Ä –∏—Ç–µ—Ä–∞—Ü–∏–∏ </a>), –ø–æ—Ä—è–¥–æ–∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ –ù–ï –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (–æ–Ω –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ –ø–æ—Ä—Ç—Ñ–µ–ª—å, –Ω–∞—Å—Ç—Ä–æ–µ–∫ —ç—Ç–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç.–ø.)</td></tr> <tr><td>deal_item deal(const std::string&amp; s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Å–¥–µ–ª–∫—É –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É c SecKey s (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ Trade formula, —Ç.–µ. –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏), –µ—Å–ª–∏ —Å–¥–µ–ª–∫–∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –±—ã–ª–æ, —Ç–æ <code>amount</code> –∏ <code>price</code> –±—É–¥—É—Ç —Ä–∞–≤–Ω—ã –Ω—É–ª—é</td></tr> <tr><td>deal_item deal(const security_fields&amp; sf)</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Å–¥–µ–ª–∫—É –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É sf (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ Trade formula, —Ç.–µ. –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏), –µ—Å–ª–∏ —Å–¥–µ–ª–∫–∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –±—ã–ª–æ, —Ç–æ <code>amount</code> –∏ <code>price</code> –±—É–¥—É—Ç —Ä–∞–≤–Ω—ã –Ω—É–ª—é</td></tr> <tr><td>struct security_fields security_field(const std::string&amp; s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å SecKey s</td></tr> <tr><td>struct security_fields security_field()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>std::map&lt;std::string, double&gt;&amp; data()</td> <td>—Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –ù–ï –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ —Ä–æ–±–æ—Ç–∞</td></tr> <tr><td>const user_value&amp; uf0()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–ª–µ&quot; –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 0 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∏–∫–∞–∫ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —à—Ç–∞—Ç–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–æ–±–æ—Ç–∞)</td></tr> <tr><td>...</td> <td>...</td></tr> <tr><td>const user_value&amp; uf19()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–ª–µ&quot; –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 19 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∏–∫–∞–∫ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —à—Ç–∞—Ç–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–æ–±–æ—Ç–∞)</td></tr> <tr><td>std::string name()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Name&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int decimals()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Decimals&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>std::string comment()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Comment&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>std::string color()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Color&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ hex —Ñ–æ—Ä–º–∞—Ç–µ <a href="https://www.w3schools.com/colors/default.asp" target="_blank" rel="noopener noreferrer">–≤–∞–ª–∏–¥–Ω–æ–≥–æ CSS —Ü–≤–µ—Ç–∞<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>bool re_sell()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;re_sell&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool re_buy()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;re_buy&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool use_tt()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Use timetable&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int portfolio_type()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Type&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long v_in_l()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;v_in_left&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long v_in_r()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;v_in_right&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long v_out_l()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;v_out_left&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long v_out_r()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;v_out_right&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long v_min()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;v_min&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long v_max()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;v_max&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double k()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;K&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double k1()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;K1&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double k2()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;K2&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double tp()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;TP&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool equal_prices()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Equal prices&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool always_limits_timer()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Always timer&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double lim_s()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Lim_Sell&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double lim_b()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Lim_Buy&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double delta()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Delta&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double first_delta()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;First delta&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long mkt_volume()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Market volume&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int type_trade()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Type trade&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int price_type()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Type price&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool simply_first()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Simply first&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool quote()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Quote&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double percent()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Percent&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int timer()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Limits timer&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool to0()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;To0&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool virtual_0_pos()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Virt 0 pos&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double opened()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Opened&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double opened_comission()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Commission sum&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double fin_res_wo_c()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Fin res wo C&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double fin_res()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Fin res&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long pos()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Pos&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int n_perc_fill()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;n_perc_fill&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int max_not_hedged()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Max not hedged&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double return_first()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Return first&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double price_check()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Price check&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>int hedge_after()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Hedge (sec)&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>long long overlay()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Overlay&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double ext_field1()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Extra field#1&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double ext_field2()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Extra field#2&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double sell()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Sell&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double buy()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Buy&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double price_s()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Price_s&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>double price_b()</td> <td>–ø–æ–ª—É—á–∏—Ç—å &quot;Price_b&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool is_sell_ok()</td> <td>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å &quot;Sell&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool is_buy_ok()</td> <td>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å &quot;Buy&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool is_price_s_ok</td> <td>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å &quot;Price_s&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>bool is_price_b_ok</td> <td>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å &quot;Price_b&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>void set_uf0(const user_value&amp; v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–ª–µ&quot; –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 0 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∏–∫–∞–∫ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —à—Ç–∞—Ç–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–æ–±–æ—Ç–∞)</td></tr> <tr><td>...</td> <td>...</td></tr> <tr><td>void set_uf19(const user_value&amp; v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–ª–µ&quot; –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 19 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∏–∫–∞–∫ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —à—Ç–∞—Ç–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–æ–±–æ—Ç–∞)</td></tr> <tr><td>void set_decimals(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Decimals&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_comment(const std::string&amp; v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Comment&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_color(const std::string&amp; v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Color&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v –≤ hex —Ñ–æ—Ä–º–∞—Ç–µ <a href="https://www.w3schools.com/colors/default.asp" target="_blank" rel="noopener noreferrer">–≤–∞–ª–∏–¥–Ω–æ–≥–æ CSS —Ü–≤–µ—Ç–∞<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>void set_re_sell(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;re_sell&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_re_buy(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;re_buy&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_use_tt(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Use timetable&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_portfolio_type(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Type&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_v_in_l(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;v_in_left&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_v_in_r(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;v_in_right&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_v_out_l(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;v_out_left&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_v_out_r(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;v_out_right&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_v_min(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;v_min&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_v_max(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;v_max&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_k(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;K&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_k1(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;K1&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_k2(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;K2&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_tp(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;TP&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_equal_prices(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Equal prices&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_always_limits_timer(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Always timer&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_lim_s(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Lim_Sell&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_lim_b(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Lim_Buy&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_delta(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Delta&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_first_delta(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;First delta&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_mkt_volume(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Market volume&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_type_trade(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Type trade&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_price_type(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Type price&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_simply_first(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Simply first&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_quote(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Quote&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_percent(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Percent&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_timer(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Limits timer&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_to0(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;To0&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_virtual_0_pos(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Virt 0 pos&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_opened(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Opened&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_opened_comission(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Commission sum&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_n_perc_fill(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;n_perc_fill&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_max_not_hedged(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Max not hedged&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_return_first(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Return first&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_price_check(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Price check&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_hedge_after(int v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Hedge (sec)&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr> <tr><td>void set_overlay(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å &quot;Overlay&quot; –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ v</td></tr></tbody></table> <p>–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –∏–Ω–¥–µ–∫—Å—É –∫ &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –ø–æ–ª—è–º&quot; –µ—Å—Ç—å –º–∞—Å—Å–∏–≤—ã:<div class="anchor-container"><span id="user-fields" class="anchor-target"></span> <a href="#user-fields" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div></p> <div class="language-C extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">const</span> user_value<span class="token operator">&amp;</span> <span class="token punctuation">(</span>portfolio<span class="token operator">::</span><span class="token operator">*</span>gUF<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">const</span> gUF uf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf0<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf3<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf4<span class="token punctuation">,</span>
                         <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf5<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf6<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf7<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf8<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf9<span class="token punctuation">,</span>
                         <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf10<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf11<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf12<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf13<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf14<span class="token punctuation">,</span>
                         <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf15<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf16<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf17<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf18<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>uf19<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token punctuation">(</span>portfolio<span class="token operator">::</span><span class="token operator">*</span>sUF<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> user_value<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">const</span> sUF set_uf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf0<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf3<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf4<span class="token punctuation">,</span>
                             <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf5<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf6<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf7<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf8<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf9<span class="token punctuation">,</span>
                             <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf10<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf11<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf12<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf13<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf14<span class="token punctuation">,</span>
                             <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf15<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf16<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf17<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf18<span class="token punctuation">,</span> <span class="token operator">&amp;</span>portfolio<span class="token operator">::</span>set_uf19<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#__Example6__"><em>–ü—Ä–∏–º–µ—Ä:</em></a> –ü—Ä–∏–º–µ—Ä –¥–æ—Å—Ç—É–ø–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π&quot; –ø–æ –∏–Ω–¥–µ–∫—Å—É.</p> <p>–ü–æ–ª—è <code>deal_item</code>:</p> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th> <th>–¢–∏–ø</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>price</td> <td>double</td> <td>—Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞ —Å–¥–µ–ª–∫–∏</td></tr> <tr><td>amount</td> <td>long long</td> <td>—Å—É–º–º–∞—Ä–Ω—ã–π –æ–±—ä–µ–º —Å–¥–µ–ª–∫–∏ –≤ –ª–æ—Ç–∞—Ö</td></tr> <tr><td>dir</td> <td>int</td> <td>–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏: 1 - –ø–æ–∫—É–ø–∫–∞, 2 - –ø—Ä–æ–¥–∞–∂–∞</td></tr></tbody></table> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>user_value</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>user_value()</td> <td>—Å–æ–∑–¥–∞—Ç—å &quot;–ø—É—Å—Ç–æ–µ&quot; –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</td></tr> <tr><td>user_value(double value, const std::string&amp; caption)</td> <td>—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑–∞–≤ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø–æ–¥–ø–∏—Å—å</td></tr> <tr><td>user_value(double value)</td> <td>—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑–∞–≤ —Ç–æ–ª—å–∫–æ –∑–∞—á–µ–Ω–∏–µ</td></tr> <tr><td>user_value(const std::string&amp; caption)</td> <td>—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑–∞–≤ —Ç–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å—å</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>user_value</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>double value() const</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ</td></tr> <tr><td>void set_value(double value)</td> <td>–∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ</td></tr> <tr><td>bool has_value() const</td> <td>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–¥–∞–Ω–æ –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ</td></tr> <tr><td>std::string caption() const</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å—å</td></tr> <tr><td>void set_caption(const std::string&amp; caption)</td> <td>–∑–∞–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å—å</td></tr> <tr><td>bool has_caption() const</td> <td>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–¥–∞–Ω–∞ –ª–∏ –ø–æ–¥–ø–∏—Å—å</td></tr> <tr><td>user_value&amp; operator=(const user_value&amp; v)</td> <td>–æ–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–æ–ª—å–∫–æ –ù–ï &quot;–ø—É—Å—Ç—ã–µ&quot; –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã</td></tr></tbody></table> <p><a href="#__Example2__"><em>–ü—Ä–∏–º–µ—Ä:</em></a> –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã <code>user_value</code>.</p> <h2 id="_10-8-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–∑–∏—Ü–∏–∏-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" tabindex="-1"><a href="#_10-8-–¥–æ—Å—Ç—É–ø-–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-–ø–æ–∑–∏—Ü–∏–∏-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" class="header-anchor">#</a> <div class="anchor-container"><span id="dostup-i-izmenenie-pozitsii-tranzaktsionnogo-podklyucheniya" class="anchor-target"></span> <a href="#dostup-i-izmenenie-pozitsii-tranzaktsionnogo-podklyucheniya" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.8. –î–æ—Å—Ç—É–ø –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h2> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏—è</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>struct connection get_connection(const std::string&amp; c)</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ c –∏–º–µ–Ω–µ–º c</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>connection</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>sec_item sec(const std::string&amp; s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–∑–∏—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞ –±–∏—Ä–∂–µ (–≤ –∫–∞—á–µ—Å—Ç–≤–µ s –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SecBoard –∏–∑ –ø–ø <strong>5.5.1. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–∏—Ü–∏–π –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º</strong>)</td></tr> <tr><td>coin_item sec(const std::string&amp; s)</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞–ª–∞–Ω—Å–µ –≤–∞–ª—é—Ç—ã –Ω–∞ –±–∏—Ä–∂–µ (–≤ –∫–∞—á–µ—Å—Ç–≤–µ s –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Currency –∏–∑ <strong>5.5.2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–∏—Ü–∏–π –ø–æ –≤–∞–ª—é—Ç–∞–º</strong>)</td></tr> <tr><td>bool is_active()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∏—Ä–∂–µ</td></tr></tbody></table> <p>Me—Ç–æ–¥—ã <code>sec_item</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>long long pos()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Pos&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>long long robot_pos()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Robot pos&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>double mark_price()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Mark. price&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>double liq_price()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Liq. price&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>long long pos_lag()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Pos lag&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>bool pos_eq()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Check equality&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>bool tgr()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Tgr notify&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>void set_pos_lag(long long v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–µ &quot;Pos lag&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>void set_pos_eq(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–µ &quot;Check equality&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr> <tr><td>void set_tgr(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–µ &quot;Tgr notify&quot; –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</td></tr></tbody></table> <p>Me—Ç–æ–¥—ã <code>coin_item</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>double pos()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Pos&quot; (–∏–ª–∏ &quot;Limit&quot;) –≤–∞–ª—é—Ç—ã</td></tr> <tr><td>double robot_pos()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Robot pos&quot; –≤–∞–ª—é—Ç—ã</td></tr> <tr><td>double pos_lag()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Pos lag&quot; –≤–∞–ª—é—Ç—ã</td></tr> <tr><td>bool pos_eq()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Check equality&quot; –≤–∞–ª—é—Ç—ã</td></tr> <tr><td>bool tgr()</td> <td>–ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ &quot;Tgr notify&quot; –≤–∞–ª—é—Ç—ã</td></tr> <tr><td>void set_pos_lag(double v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–µ &quot;Pos lag&quot; –≤–∞–ª—é—Ç—ã</td></tr> <tr><td>void set_pos_eq(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–µ &quot;Check equality&quot; –≤–∞–ª—é—Ç—ã</td></tr> <tr><td>void set_tgr(bool v)</td> <td>–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–µ &quot;Tgr notify&quot; –≤–∞–ª—é—Ç—ã</td></tr></tbody></table> <h2 id="_10-9-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∫–ª–∞—Å—Å—ã-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã" tabindex="-1"><a href="#_10-9-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∫–ª–∞—Å—Å—ã-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã" class="header-anchor">#</a> <div class="anchor-container"><span id="dopolnitelnie-klassi,-strukturi,-funktsii-i-konstanti" class="anchor-target"></span> <a href="#dopolnitelnie-klassi,-strukturi,-funktsii-i-konstanti" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã</h2> <h3 id="_10-9-1-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã" tabindex="-1"><a href="#_10-9-1-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã" class="header-anchor">#</a> <div class="anchor-container"><span id="konstanti" class="anchor-target"></span> <a href="#konstanti" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9.1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã</h3> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th> <th>–¢–∏–ø</th> <th>–ó–Ω–∞—á–µ–Ω–∏–µ/–æ–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>BUY</td> <td>int</td> <td>1, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ - –ø–æ–∫—É–ø–∫–∞</td></tr> <tr><td>SELL</td> <td>int</td> <td>2, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ - –ø—Ä–æ–¥–∞–∂–∞</td></tr> <tr><td>FREE</td> <td>int</td> <td>0, –∑–∞—è–≤–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞</td></tr> <tr><td>ADDING</td> <td>int</td> <td>1, –∑–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –±–∏—Ä–∂—É</td></tr> <tr><td>RUNNING</td> <td>int</td> <td>2, –ø–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ —Ç–æ–º, —á—Ç–æ –∑–∞—è–≤–∫–∞ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∞</td></tr> <tr><td>DELETING</td> <td>int</td> <td>4, —Å–Ω—è—Ç–∏–µ –∑–∞—è–≤–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –±–∏—Ä–∂—É</td></tr> <tr><td>FIRST_DELETING</td> <td>int</td> <td>5, —Å–Ω—è—Ç–∏–µ –∫–æ—Ç–∏—Ä—É–µ–º–æ–π –∑–∞—è–≤–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –±–∏—Ä–∂—É</td></tr> <tr><td>SL_DELETING</td> <td>int</td> <td>6, —Å–Ω—è—Ç–∏–µ –∑–∞—è–≤–∫–∏ –ø–æ —Å—Ç–æ–ø—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –±–∏—Ä–∂—É</td></tr> <tr><td>MOVING</td> <td>int</td> <td>7, –∑–∞–ø—Ä–æ—Å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –±–∏—Ä–∂—É</td></tr> <tr><td>ADD_ERROR</td> <td>int</td> <td>99, –æ—à–∏–±–∫–∞ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∏</td></tr> <tr><td>TRADING_HALT</td> <td>int</td> <td>0, –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ —Å–Ω—è—Ç–∏–µ –∑–∞—è–≤–æ–∫ –∑–∞–ø—Ä–µ—â–µ–Ω—ã</td></tr> <tr><td><div class="anchor-container"><span id="__trading_can_place__" class="anchor-target"></span> <!----></div>TRADING_CAN_PLACE</td> <td>int</td> <td>1, —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫</td></tr> <tr><td><div class="anchor-container"><span id="__trading_can_cancel__" class="anchor-target"></span> <!----></div>TRADING_CAN_CANCEL</td> <td>int</td> <td>2, —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Å–Ω—è—Ç–∏–µ –∑–∞—è–≤–æ–∫</td></tr> <tr><td>MARKET_DATA_OFFLINE</td> <td>int</td> <td>0, –º–∞—Ä–∫–µ—Ç-–¥–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –æ—Ñ—Ñ–ª–∞–π–Ω</td></tr> <tr><td><div class="anchor-container"><span id="__market_data_bests_online__" class="anchor-target"></span> <!----></div>MARKET_DATA_BESTS_ONLINE</td> <td>int</td> <td>1, –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –º–∞—Ä–∫–µ—Ç-–¥–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –ª—É—á—à–∏–º–∏ —Ü–µ–Ω–∞–º–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É/–ø—Ä–æ–¥–∞–∂—É –æ–Ω–ª–∞–π–Ω</td></tr> <tr><td><div class="anchor-container"><span id="__market_data_ob_online__" class="anchor-target"></span> <!----></div>MARKET_DATA_OB_ONLINE</td> <td>int</td> <td>2, –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –º–∞—Ä–∫–µ—Ç-–¥–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ —Å—Ç–∞–∫–∞–Ω–∞–º–∏ –æ–Ω–ª–∞–π–Ω</td></tr> <tr><td>NAME</td> <td>std::string</td> <td>–∏–º—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td><div class="anchor-container"><span id="__null_value__" class="anchor-target"></span> <!----></div>NULL_VALUE</td> <td>long long</td> <td>–ü—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π, —Ä–∞–≤–Ω–æ–µ <code>-(1 &lt;&lt; 53)</code></td></tr></tbody></table> <h3 id="_10-9-2-—Ñ—É–Ω–∫—Ü–∏–∏" tabindex="-1"><a href="#_10-9-2-—Ñ—É–Ω–∫—Ü–∏–∏" class="header-anchor">#</a> <div class="anchor-container"><span id="funktsii" class="anchor-target"></span> <a href="#funktsii" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9.2. –§—É–Ω–∫—Ü–∏–∏</h3> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏—è</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>long long nanosec_date_time()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ epoch –≤ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∞—Ö</td></tr> <tr><td>struct tm global_tm()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è</td></tr> <tr><td>day_time get_day_time()</td> <td>–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –¥–Ω—è</td></tr> <tr><td>void log_info(const std::string&amp; msg) <div class="anchor-container"><span id="cpp-debug-functions" class="anchor-target"></span> <!----></div></td> <td>–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É—Ä–æ–≤–Ω–µ–º INFO –≤ –ª–æ–≥</td></tr> <tr><td>void log_warn(const std::string&amp; msg)</td> <td>–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É—Ä–æ–≤–Ω–µ–º WARNING –≤ –ª–æ–≥</td></tr> <tr><td>void log_error(const std::string&amp; msg)</td> <td>–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É—Ä–æ–≤–Ω–µ–º ERROR –≤ –ª–æ–≥</td></tr> <tr><td><div class="anchor-container"><span id="__tgr_notify__" class="anchor-target"></span> <a href="#__tgr_notify__" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> bool tgr_notify(int slot, const std::string&amp; msg, int timeout)</td> <td>–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É—Ä–æ–≤–Ω–µ–º NOTIFICATION –≤ –ª–æ–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ telegram, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ —á–∞—â–µ, —á–µ–º <code>timeout</code> —Å–µ–∫—É–Ω–¥ (—á–∏—Å–ª–æ –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[10, 2000000000]</code>), <code>slot</code> - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–ª–æ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—á–∏—Å–ª–æ –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 4]</code>), –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –æ—Ç—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è <code>timeout</code></td></tr></tbody></table> <h3 id="_10-9-3-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã" tabindex="-1"><a href="#_10-9-3-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã" class="header-anchor">#</a> <div class="anchor-container"><span id="strukturi" class="anchor-target"></span> <a href="#strukturi" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9.3. –°—Ç—Ä—É–∫—Ç—É—Ä—ã</h3> <p>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ <code>day_time</code> (–≤—Ä–µ–º—è –¥–Ω—è –≤ —á–∞—Å–∞—Ö, –º–∏–Ω—É—Ç–∞—Ö, —Å–µ–∫—É–Ω–¥–∞—Ö):<div class="anchor-container"><span id="day_time" class="anchor-target"></span> <a href="#day_time" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div></p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>day_time()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –≤—Ä–µ–º–µ–Ω–µ–º <code>00:00:00</code></td></tr> <tr><td>day_time(int h, int m, int s)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –≤—Ä–µ–º–µ–Ω–µ–º <code>h:m:s</code></td></tr> <tr><td>day_time(const day_time&amp; dt)</td> <td>–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</td></tr></tbody></table> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è</th> <th>–¢–∏–ø</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>h</td> <td>int</td> <td>—á–∞—Å—ã (–æ—Ç <code>0</code> –¥–æ <code>23</code>)</td></tr> <tr><td>m</td> <td>int</td> <td>–º–∏–Ω—É—Ç—ã (–æ—Ç <code>0</code> –¥–æ <code>59</code>)</td></tr> <tr><td>s</td> <td>int</td> <td>—Å–µ–∫—É–Ω–¥—ã (–æ—Ç <code>0</code> –¥–æ <code>59</code>)</td></tr></tbody></table> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>int to_sec() const</td> <td>–ø–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, —Ç.–µ. <code>h * 3600 + m * 60 + s</code></td></tr> <tr><td>bool operator&lt;(const day_time&amp; a, const day_time&amp; b)</td> <td>–æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&lt;</code></td></tr> <tr><td>bool operator&lt;=(const day_time&amp; a, const day_time&amp; b)</td> <td>–æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&lt;=</code></td></tr> <tr><td>bool operator&gt;(const day_time&amp; a, const day_time&amp; b)</td> <td>–æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&gt;</code></td></tr> <tr><td>bool operator&gt;=(const day_time&amp; a, const day_time&amp; b)</td> <td>–æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&gt;=</code></td></tr> <tr><td>bool operator==(const day_time&amp; a, const day_time&amp; b)</td> <td>–æ–ø–µ—Ä–∞—Ç–æ—Ä <code>==</code></td></tr> <tr><td>bool operator!=(const day_time&amp; a, const day_time&amp; b)</td> <td>–æ–ø–µ—Ä–∞—Ç–æ—Ä <code>!=</code></td></tr></tbody></table> <p><a href="#__Example4__"><em>–ü—Ä–∏–º–µ—Ä:</em></a> –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã <code>day_time</code>.</p> <h3 id="_10-9-4-–∫–ª–∞—Å—Å—ã" tabindex="-1"><a href="#_10-9-4-–∫–ª–∞—Å—Å—ã" class="header-anchor">#</a> <div class="anchor-container"><span id="klassi" class="anchor-target"></span> <a href="#klassi" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9.4. –ö–ª–∞—Å—Å—ã</h3> <p><strong>–í–∞–∂–Ω–æ:</strong> –≤—Å–µ –∫–ª–∞—Å—Å—ã, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ, –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤—É –∏–º–µ–Ω <code>timers</code>.</p> <p>–ö–ª–∞—Å—Å <code>timer</code> (–æ—Ç–º–µ—Ä—è–µ—Ç –æ—Ç—Ä–µ–∑–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ –º–µ–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∞—Ö): <div class="anchor-container"><span id="timers" class="anchor-target"></span> <!----></div></p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>timer(unsigned long long timeout, bool initialized = false)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º —Ç–∞–π–º–µ—Ä–∞ <code>timeout</code> (–≤ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∞—Ö), –µ—Å–ª–∏ <code>initialized</code> –∏—Å—Ç–∏–Ω–Ω–æ, —Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –±—É–¥–µ—Ç –∑–∞–¥–∞–Ω–æ —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º, –∏–Ω–∞—á–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏ –ø–µ—Ä–≤—ã–π <code>timeout</code> —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É</td></tr></tbody></table> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>bool tick()</td> <td>–ï—Å–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤—ã–∑–æ–≤–∞ –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –ø—Ä–æ—à–ª–æ –Ω–µ –º–µ–Ω—å—à–µ, —á–µ–º <code>timeout</code> –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥, —Ç–æ –≤–µ—Ä–Ω–µ—Ç –∏—Å—Ç–∏–Ω—É –∏ –æ–±–Ω–æ–≤–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–∞</td></tr></tbody></table> <p>–ö–ª–∞—Å—Å <code>day_timer</code> (–æ—Ç–º–µ—Ä—è–µ—Ç —Å—É—Ç–∫–∏ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ —Ä–∞–Ω–µ–µ, —á–µ–º –≤ –∑–∞–¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏):</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>day_timer(int h, int m, int s, bool initialized = false)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Å—É—Ç–∫–∏ –Ω–µ —Ä–∞–Ω—å—à–µ, —á–µ–º –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <code>h:m:s</code> (—á–∞—Å–æ–≤, –º–∏–Ω—É—Ç, —Å–µ–∫—É–Ω–¥), –µ—Å–ª–∏ <code>initialized</code> –∏—Å—Ç–∏–Ω–Ω–æ, —Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –±—É–¥–µ—Ç –∑–∞–¥–∞–Ω–æ —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º, –∏–Ω–∞—á–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏ –ø–µ—Ä–≤—ã–π —Ç–∞–π–º–∞—É—Ç –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –±–µ–∑ —Å–º–µ–Ω—ã –¥–Ω—è</td></tr> <tr><td>day_timer(int h, int m, bool initialized = false)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Å—É—Ç–∫–∏ –Ω–µ —Ä–∞–Ω—å—à–µ, —á–µ–º –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <code>h:m</code> (—á–∞—Å–æ–≤, –º–∏–Ω—É—Ç, <code>0</code> —Å–µ–∫—É–Ω–¥), –µ—Å–ª–∏ <code>initialized</code> –∏—Å—Ç–∏–Ω–Ω–æ, —Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –±—É–¥–µ—Ç –∑–∞–¥–∞–Ω–æ —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º, –∏–Ω–∞—á–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏ –ø–µ—Ä–≤—ã–π —Ç–∞–π–º–∞—É—Ç –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –±–µ–∑ —Å–º–µ–Ω—ã –¥–Ω—è</td></tr> <tr><td>day_timer(const <a href="#day_time">day_time</a>&amp; dt, bool initialized = false)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Å—É—Ç–∫–∏ –Ω–µ —Ä–∞–Ω—å—à–µ, —á–µ–º –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <code>dt</code>, –µ—Å–ª–∏ <code>initialized</code> –∏—Å—Ç–∏–Ω–Ω–æ, —Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –±—É–¥–µ—Ç –∑–∞–¥–∞–Ω–æ —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º, –∏–Ω–∞—á–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏ –ø–µ—Ä–≤—ã–π —Ç–∞–π–º–∞—É—Ç –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –±–µ–∑ —Å–º–µ–Ω—ã –¥–Ω—è</td></tr></tbody></table> <table><thead><tr><th>–§—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>bool tick()</td> <td>–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è –¥–µ–Ω—å –∏ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É, —Ç–æ –≤–µ—Ä–Ω–µ—Ç –∏—Å—Ç–∏–Ω—É –∏ –æ–±–Ω–æ–≤–∏—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –¥–µ–Ω—å</td></tr></tbody></table> <p><a href="#__Example7__"><em>–ü—Ä–∏–º–µ—Ä:</em></a> –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ <code>timer</code> –∏ <code>day_timer</code>.</p> <h3 id="_10-9-5-—Ñ—É–Ω–∫—Ü–∏–∏-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-–æ–ø—Ü–∏–æ–Ω–∞–º–∏" tabindex="-1"><a href="#_10-9-5-—Ñ—É–Ω–∫—Ü–∏–∏-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-–æ–ø—Ü–∏–æ–Ω–∞–º–∏" class="header-anchor">#</a> <div class="anchor-container"><span id="funktsii-dlya-raboti-s-optsionami" class="anchor-target"></span> <a href="#funktsii-dlya-raboti-s-optsionami" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9.5. –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–ø—Ü–∏–æ–Ω–∞–º–∏</h3> <h4 id="_10-9-5-1-—É–º–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏" tabindex="-1"><a href="#_10-9-5-1-—É–º–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏" class="header-anchor">#</a> <div class="anchor-container"><span id="_‚Äúumnie‚Äù-funktsii_" class="anchor-target"></span> <a href="#_‚Äúumnie‚Äù-funktsii_" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9.5.1. <em>‚Äú–£–º–Ω—ã–µ‚Äù —Ñ—É–Ω–∫—Ü–∏–∏</em></h4> <p><strong>double S_delta(const std::string&amp; s, double rate = 0)</strong><br> <strong>double P_delta(const std::string&amp; p, double rate = 0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –¥–µ–ª—å—Ç—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏–ª–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å–æ —Å—Ç–∞–≤–∫–æ–π —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è <code>rate</code> (—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)</p> <p><strong>double S_gamma(const std::string&amp; s, double rate = 0)</strong><br> <strong>double P_gamma(const std::string&amp; p, double rate = 0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –≥–∞–º–º—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏–ª–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å–æ —Å—Ç–∞–≤–∫–æ–π —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è <code>rate</code> (—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)</p> <p><strong>double S_vega(const std::string&amp; s, double rate = 0)</strong><br> <strong>double P_vega(const std::string&amp; p, double rate = 0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –≤–µ–≥—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏–ª–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å–æ —Å—Ç–∞–≤–∫–æ–π —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è <code>rate</code> (—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)</p> <p><strong>double S_theta(const std::string&amp; s, double rate = 0)</strong><br> <strong>double P_theta(const std::string&amp; p, double rate = 0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç —Ç–µ—Ç—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏–ª–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å–æ —Å—Ç–∞–≤–∫–æ–π —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è <code>rate</code> (—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)</p> <p><strong>double S_iv(const std::string&amp; s, double rate = 0)</strong><br> <strong>double P_iv(const std::string&amp; p, double rate = 0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –æ–∂–∏–¥–∞–µ–º—É—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ü–∏–æ–Ω–∞ –∏–ª–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å–æ —Å—Ç–∞–≤–∫–æ–π —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è <code>rate</code> (—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)</p> <p><strong>double S_price(const std::string&amp; s, double rate = 0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é —Ü–µ–Ω—É –æ–ø—Ü–∏–æ–Ω–∞ —Å–æ —Å—Ç–∞–≤–∫–æ–π —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è <code>rate</code> (—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)</p> <p>–ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –≤—ã—à–µ:</p> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>s</td> <td>–∫–ª—é—á –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ SecKey</td></tr> <tr><td>p</td> <td>–∏–º—è –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>rate</td> <td>—Å—Ç–∞–≤–∫–∞ —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö</td></tr></tbody></table> <h4 id="_10-9-5-2-–ø—Ä–æ—Å—Ç—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏" tabindex="-1"><a href="#_10-9-5-2-–ø—Ä–æ—Å—Ç—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏" class="header-anchor">#</a> <div class="anchor-container"><span id="_‚Äúprostie‚Äù-funktsii_" class="anchor-target"></span> <a href="#_‚Äúprostie‚Äù-funktsii_" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.9.5.2. <em>‚Äú–ü—Ä–æ—Å—Ç—ã–µ‚Äù —Ñ—É–Ω–∫—Ü–∏–∏</em></h4> <p><strong>double C(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é —Ü–µ–Ω—É –æ–ø—Ü–∏–æ–Ω–∞ <code>call</code></p> <p><strong>double P(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é —Ü–µ–Ω—É –æ–ø—Ü–∏–æ–Ω–∞ <code>put</code></p> <p><strong>double CDELTA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –¥–µ–ª—å—Ç—É –æ–ø—Ü–∏–æ–Ω–∞ <code>call</code></p> <p><strong>double PDELTA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong>
–≤—ã—á–∏—Å–ª—è–µ—Ç –¥–µ–ª—å—Ç—É –æ–ø—Ü–∏–æ–Ω–∞ <code>put</code></p> <p><strong>double CGAMMA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –≥–∞–º–º—É –æ–ø—Ü–∏–æ–Ω–∞ <code>call</code></p> <p><strong>double PGAMMA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –≥–∞–º–º—É –æ–ø—Ü–∏–æ–Ω–∞ <code>put</code></p> <p><strong>double CVEGA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –≤–µ–≥—É –æ–ø—Ü–∏–æ–Ω–∞ <code>call</code></p> <p><strong>double PVEGA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç –≤–µ–≥—É –æ–ø—Ü–∏–æ–Ω–∞ <code>put</code></p> <p><strong>double CTHETA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç —Ç–µ—Ç—É –æ–ø—Ü–∏–æ–Ω–∞ <code>call</code></p> <p><strong>double PTHETA(double futPrice, double strike, double expDate, double iv, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç —Ç–µ—Ç—É –æ–ø—Ü–∏–æ–Ω–∞ <code>put</code></p> <p><strong>double CIV(double futPrice, double strike, double expDate, double call, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç implied volatility –æ–ø—Ü–∏–æ–Ω–∞ <code>call</code></p> <p><strong>double PIV(double futPrice, double strike, double expDate, double put, double rate=0)</strong><br>
–≤—ã—á–∏—Å–ª—è–µ—Ç implied volatility –æ–ø—Ü–∏–æ–Ω–∞ <code>put</code></p> <p>–ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –≤—ã—à–µ:</p> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>futPrice</td> <td>—Ü–µ–Ω–∞ –±–∞–∑–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–∞</td></tr> <tr><td>strike</td> <td>—Ü–µ–Ω–∞ —Å—Ç—Ä–∞–π–∫ –æ–ø—Ü–∏–æ–Ω–∞</td></tr> <tr><td>expData</td> <td>–¥–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ –æ–ø—Ü–∏–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ epoch</td></tr> <tr><td>iv</td> <td>–æ–∂–∏–¥–∞–µ–º–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å</td></tr> <tr><td>call/put</td> <td>—Ü–µ–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞</td></tr> <tr><td>rate</td> <td>—Å—Ç–∞–≤–∫–∞ —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö</td></tr></tbody></table> <h2 id="_10-10-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã-–∏-–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" tabindex="-1"><a href="#_10-10-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã-–∏-–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" class="header-anchor">#</a> <div class="anchor-container"><span id="indicators-docs" class="anchor-target"></span><span id="indikatori-i-matematicheskaya-statistika" class="anchor-target"></span> <a href="#indicators-docs" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2> <h3 id="_10-10-1-–æ–±—â–∏–µ-–ø–æ–ª–æ–∂–µ–Ω–∏—è" tabindex="-1"><a href="#_10-10-1-–æ–±—â–∏–µ-–ø–æ–ª–æ–∂–µ–Ω–∏—è" class="header-anchor">#</a> <div class="anchor-container"><span id="obshchie-polozheniya" class="anchor-target"></span> <a href="#obshchie-polozheniya" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h3> <h4 id="_10-10-1-1-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–æ–±—ä–µ–∫—Ç–æ–≤-–¥–ª—è-—Ä–∞—Å—á–µ—Ç–∞-–∑–Ω–∞—á–µ–Ω–∏–∏-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤" tabindex="-1"><a href="#_10-10-1-1-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–æ–±—ä–µ–∫—Ç–æ–≤-–¥–ª—è-—Ä–∞—Å—á–µ—Ç–∞-–∑–Ω–∞—á–µ–Ω–∏–∏-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤" class="header-anchor">#</a> <div class="anchor-container"><span id="osobennosti-obektov-dlya-rascheta-znachenii-indikatorov" class="anchor-target"></span> <a href="#osobennosti-obektov-dlya-rascheta-znachenii-indikatorov" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.1.1. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤</h4> <p>–î–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤, —Ç.–∫. –æ–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ —á—Ç–æ–±—ã –æ–Ω–∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –∑–∞–Ω–æ–≤–æ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑, –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ (<code>static</code>). –ï—Å–ª–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –Ω—É–∂–Ω–∞
–∏—Å—Ç–æ—Ä–∏—è, –∞ –µ–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç (—Ç.–µ. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ –º–µ–Ω—å—à–µ, —á–µ–º <code>length</code>), —Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è <code>length</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏.</p> <p>–í—Å–µ &quot;—Ñ–æ—Ä–º—É–ª—ã&quot; –≤ —Ä–æ–±–æ—Ç–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è (–ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è) –ø—Ä–∏ –ª—é–±–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞–∫–∞–Ω–∞ –ª—é–±–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è + —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É, –ø–æ—ç—Ç–æ–º—É –ø—ã—Ç–∞—Ç—å—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ. –î–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –Ω–æ–≤—ã–º –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>[</mo><mfrac><mrow><mi>t</mi></mrow><mrow><mrow><mi mathvariant="italic">t</mi><mi mathvariant="italic">i</mi><mi mathvariant="italic">m</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">f</mi><mi mathvariant="italic">r</mi><mi mathvariant="italic">a</mi><mi mathvariant="italic">m</mi><mi mathvariant="italic">e</mi></mrow></mrow></mfrac><mo>]</mo><mo>√ó</mo><mrow><mi mathvariant="italic">t</mi><mi mathvariant="italic">i</mi><mi mathvariant="italic">m</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">f</mi><mi mathvariant="italic">r</mi><mi mathvariant="italic">a</mi><mi mathvariant="italic">m</mi><mi mathvariant="italic">e</mi></mrow><mo>&gt;</mo><msub><mi>t</mi><mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">[\frac{t}{\mathit{timeframe}}] \times \mathit{timeframe} &gt; t_{last}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.824556em;"></span><span class="strut bottom" style="height:1.305664em;vertical-align:-0.481108em;"></span><span class="base textstyle uncramped"><span class="mopen">[</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">m</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">m</span><span class="mord mathit">e</span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mclose">]</span><span class="mbin">√ó</span><span class="mord textstyle uncramped"><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">m</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">m</span><span class="mord mathit">e</span></span><span class="mrel">&gt;</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">a</span><span class="mord mathit">s</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span>, –≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span> - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="italic">t</mi><mi mathvariant="italic">i</mi><mi mathvariant="italic">m</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">f</mi><mi mathvariant="italic">r</mi><mi mathvariant="italic">a</mi><mi mathvariant="italic">m</mi><mi mathvariant="italic">e</mi></mrow></mrow><annotation encoding="application/x-tex">\mathit{timeframe}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">m</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">m</span><span class="mord mathit">e</span></span></span></span></span> - —Ç–∞–π–º—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∞–∫—Ç–æ—Ä–∞, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{last}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">a</span><span class="mord mathit">s</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç. –¢.–µ. –ø–æ –±–æ–ª—å—à–æ–º—É —Å—á–µ—Ç—É –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ
&quot;—Ü–µ–Ω–∞–º –æ—Ç–∫—Ä—ã—Ç–∏—è&quot; –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ.</p> <p><strong>–í–∞–∂–Ω–æ:</strong> –≤—Å—è –∏—Å—Ç–æ—Ä–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Ä–æ–±–æ—Ç–∞ –≤—Å—è –∏—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç —É—Ç–µ—Ä—è–Ω–∞ –∏ –µ–µ –Ω–∞–±–æ—Ä –Ω–∞—á–Ω–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ, –≤ —Å–≤—è–∑–∏ —Å —ç—Ç–∏–º –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã, —Ç.–∫. –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –∏—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–Ω–æ–≤–æ –∏ –¥–æ–ª–≥–æ.</p> <p><strong>–í–∞–∂–Ω–æ:</strong> –≤—Å–µ –∫–ª–∞—Å—Å—ã, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ, –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤—É –∏–º–µ–Ω <code>indicators</code>.</p> <p><a href="#__Example5__"><em>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–¥–µ.</em></a></p> <h4 id="_10-10-1-2-tradingdays-–∏-schedule-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞" tabindex="-1"><a href="#_10-10-1-2-tradingdays-–∏-schedule-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞" class="header-anchor">#</a> <div class="anchor-container"><span id="`tradingdays`-i-`schedule`-indikatora" class="anchor-target"></span> <a href="#`tradingdays`-i-`schedule`-indikatora" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.1.2. <code>TradingDays</code> –∏ <code>schedule</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</h4> <p>–î–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ª—é–±–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ü–µ–Ω—ã, –ø–æ–ª—É—á–∞–µ–º—ã–µ —Å –±–∏—Ä–∂–∏. –ï—Å–ª–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ –±–∏—Ä–∂–µ —Ç–æ—Ä–≥—É–µ—Ç—Å—è 24/7, —Ç–æ –Ω–∏–∫–∞–∫–∏—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π —Å —Ü–µ–Ω–∞–º–∏ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º –∂–µ —Å–ª—É—á–∞–µ –≤—Å—Ç–∞–µ—Ç –≤–æ–ø—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–∞ &quot;–Ω—É–ª–µ–≤—ã—Ö&quot; –∏ &quot;–∫—Ä–∏–≤—ã—Ö&quot; —Ü–µ–Ω–∞—Ö (–ø—Ä–∏
–ø—É—Å—Ç—ã—Ö —Å—Ç–∞–∫–∞–Ω–∞—Ö –≤ –Ω–µ—Ç–æ—Ä–≥–æ–≤—ã–µ –¥–Ω–∏ –∏ —á–∞—Å—ã, –∞—É–∫—Ü–∏–æ–Ω–∞—Ö –æ—Ç–∫—Ä—ã—Ç–∏—è –∏ —Ç.–ø.). –î–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ü–µ–Ω —É –æ–±—ä–µ–∫—Ç–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç <code>TradingDays</code> –∏ <code>schedule</code>, <code>TradingDays</code> - —ç—Ç–æ —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–Ω—è–º, –∞ <code>schedule</code> - —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º –≤–Ω—É—Ç—Ä–∏ –¥–Ω—è (–¥–ª—è –≤—Å–µ—Ö –¥–Ω–µ–π <code>schedule</code> –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ).</p> <p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ - —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è, –≤ –∫–æ–¥–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–∞–Ω–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—á–∏—Ç–∞–µ—Ç—Å—è, —Ç.–µ. –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Ç–æ–∂–µ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω (—ç—Ç–æ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –¥–∞–∂–µ –µ—Å–ª–∏ –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ <code>TradingDays</code> –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è). –ï—Å–ª–∏ –∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π <code>TradingDays</code>, —Ç–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è <code>TradingDays</code>. <code>TradingDays</code> - —ç—Ç–æ –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏, –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏ –∑–∞–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã —Å –Ω—É–ª—è, –ø—Ä–∏—á–µ–º –Ω—É–ª–µ–≤–æ–π –±–∏—Ç (—Å—á–∏—Ç–∞—è —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ) - —ç—Ç–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, —Ç.–µ. –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ —ç—Ç–æ <code>1 &lt;&lt; 0</code> (–≥–¥–µ <code>&lt;&lt;</code> —ç—Ç–æ –ø–æ–±–∏—Ç–æ–≤—ã–π —Å–¥–≤–∏–≥
—á–∏—Å–ª–∞ –≤–ª–µ–≤–æ), –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ —ç—Ç–æ <code>1 &lt;&lt; 1</code> –∏ —Ç.–¥.</p> <p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é <code>schedule</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –∑–∞–¥–∞–Ω–æ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –ï—Å–ª–∏ –∂–µ <code>schedule</code> –Ω–µ –ø—É—Å—Ç–æ, —Ç–æ —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –Ω–µ–ø–µ—Ä—Å–µ–∫–∞—é—â–∏—Ö—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ (–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª - —ç—Ç–æ –ø–∞—Ä–∞ –≤—Ä–µ–º–µ–Ω, —Ç.–µ. –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –≤—Ä–µ–º—è –∫–æ–Ω—Ü–∞, –æ–±–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
–≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞.</p> <h4 id="_10-10-1-3-–æ–±—ä–µ–∫—Ç-indicators-interval" tabindex="-1"><a href="#_10-10-1-3-–æ–±—ä–µ–∫—Ç-indicators-interval" class="header-anchor">#</a> <div class="anchor-container"><span id="obekt-`indicators::interval`" class="anchor-target"></span> <a href="#obekt-`indicators::interval`" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.1.3. –û–±—ä–µ–∫—Ç <code>indicators::interval</code></h4> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>interval</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>interval(day_time b, day_time e)</td> <td>—Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª c –Ω–∞—á–∞–ª–æ–º –≤–æ –≤—Ä–µ–º—è <code>b</code> –∏ –∫–æ–Ω—Ü–æ–º –≤–æ –≤—Ä–µ–º—è <code>e</code>, –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —É—Å–ª–æ–≤–∏–µ <code>b &lt; e</code>, –∏–Ω–∞—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr></tbody></table> <h4 id="_10-10-1-4-–æ–±—ä–µ–∫—Ç-indicators-schedule" tabindex="-1"><a href="#_10-10-1-4-–æ–±—ä–µ–∫—Ç-indicators-schedule" class="header-anchor">#</a> <div class="anchor-container"><span id="obekt-`indicators::schedule`" class="anchor-target"></span> <a href="#obekt-`indicators::schedule`" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.1.4. –û–±—ä–µ–∫—Ç <code>indicators::schedule</code></h4> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>schedule</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>schedule()</td> <td>—Å–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</td></tr> <tr><td>schedule(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–ø–∏—Å–∫–æ–º –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é, –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –∏–ª–∏ –Ω–µ –æ—Ç—Å–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é, –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>schedule(const schedule&amp; sch)</td> <td>–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>schedule</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>bool is_in(const day_time&amp; dt) const</td> <td>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –≤ –æ–¥–Ω–æ–º –∏–∑ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</td></tr></tbody></table> <h4 id="_10-10-1-5-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã" tabindex="-1"><a href="#_10-10-1-5-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã" class="header-anchor">#</a> <div class="anchor-container"><span id="konstanti" class="anchor-target"></span> <a href="#konstanti" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.1.5. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã</h4> <table><thead><tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th> <th>–¢–∏–ø</th> <th>–ó–Ω–∞—á–µ–Ω–∏–µ/–æ–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>WD_SUNDAY</td> <td>int</td> <td><code>1 &lt;&lt; 0</code>, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</td></tr> <tr><td>WD_MONDAY</td> <td>int</td> <td><code>1 &lt;&lt; 1</code>, –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</td></tr> <tr><td>WD_TUESDAY</td> <td>int</td> <td><code>1 &lt;&lt; 2</code>, –≤—Ç–æ—Ä–Ω–∏–∫</td></tr> <tr><td>WD_WEDNESDAY</td> <td>int</td> <td><code>1 &lt;&lt; 3</code>, —Å—Ä–µ–¥–∞</td></tr> <tr><td>WD_THURSDAY</td> <td>int</td> <td><code>1 &lt;&lt; 4</code>, —á–µ—Ç–≤–µ—Ä–≥</td></tr> <tr><td>WD_FRIDAY</td> <td>int</td> <td><code>1 &lt;&lt; 5</code>, –ø—è—Ç–Ω–∏—Ü–∞</td></tr> <tr><td>WD_SATURDAY</td> <td>int</td> <td><code>1 &lt;&lt; 6</code>, —Å—É–±–±–æ—Ç–∞</td></tr> <tr><td>WHOLE_WEEK</td> <td>int</td> <td><code>WD_SUNDAY | WD_MONDAY | WD_TUESDAY | WD_WEDNESDAY | WD_THURSDAY | WD_FRIDAY | WD_SATURDAY</code>, —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤—Å—é –Ω–µ–¥–µ–ª—é</td></tr> <tr><td>WORK_WEEK</td> <td>int</td> <td><code>WD_MONDAY | WD_TUESDAY | WD_WEDNESDAY | WD_THURSDAY | WD_FRIDAY</code>, —Ç–æ—Ä–≥–æ–≤–∞—Ç—å —Å –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ –ø–æ –ø—è—Ç–Ω–∏—Ü—É</td></tr></tbody></table> <h3 id="_10-10-2-–ø—Ä–æ—Å—Ç–æ–µ-—Å–∫–æ–ª—å–∑—è—â–µ–µ-—Å—Ä–µ–¥–Ω–µ–µ-sma" tabindex="-1"><a href="#_10-10-2-–ø—Ä–æ—Å—Ç–æ–µ-—Å–∫–æ–ª—å–∑—è—â–µ–µ-—Å—Ä–µ–¥–Ω–µ–µ-sma" class="header-anchor">#</a> <div class="anchor-container"><span id="prostoe-skolzyashchee-srednee-(`sma`)" class="anchor-target"></span> <a href="#prostoe-skolzyashchee-srednee-(`sma`)" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.2. –ü—Ä–æ—Å—Ç–æ–µ —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ (<code>SMA</code>)</h3> <p>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">S</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathit{SMA}_t = \frac{1}{n} \sum_{i=0}^{n - 1}p_{t-i}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.8011130000000004em;"></span><span class="strut bottom" style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop op-limits"><span class="vlist"><span style="top:1.1776689999999999em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.000005000000000143778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span><span class="op-symbol large-op mop">‚àë</span></span></span><span style="top:-1.2500050000000003em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">S</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{SMA}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t-i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">t-i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>SMA</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>SMA</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>SMA()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>SMA(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>SMA(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>SMA</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h3 id="_10-10-3-—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ-—Å–∫–æ–ª—å–∑—è—â–µ–µ-—Å—Ä–µ–¥–Ω–µ–µ-ema" tabindex="-1"><a href="#_10-10-3-—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ-—Å–∫–æ–ª—å–∑—è—â–µ–µ-—Å—Ä–µ–¥–Ω–µ–µ-ema" class="header-anchor">#</a> <div class="anchor-container"><span id="eksponentsialnoe-skolzyashchee-srednee-(`ema`)" class="anchor-target"></span> <a href="#eksponentsialnoe-skolzyashchee-srednee-(`ema`)" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.3. –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ (<code>EMA</code>)</h3> <p>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><mrow><mn>2</mn></mrow><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>(</mo><msub><mi>p</mi><mi>t</mi></msub><mo>‚àí</mo><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi></mrow><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub><mo>)</mo><mo>+</mo><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi></mrow><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathit{EMA}_t = \frac{2}{n + 1} (p_t - \mathit{EMA}_{t-1}) + \mathit{EMA}_{t-1}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.32144em;"></span><span class="strut bottom" style="height:2.09077em;vertical-align:-0.7693300000000001em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit">n</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mclose">)</span><span class="mbin">+</span><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{EMA}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi></mrow><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathit{EMA}_{t-1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, —Ç.–µ. –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>EMA</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>EMA</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>EMA()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>EMA(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>EMA(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>EMA</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h3 id="_10-10-4-–º–∞–∫—Å–∏–º—É–º-–Ω–∞-–æ—Ç—Ä–µ–∑–∫–µ-max" tabindex="-1"><a href="#_10-10-4-–º–∞–∫—Å–∏–º—É–º-–Ω–∞-–æ—Ç—Ä–µ–∑–∫–µ-max" class="header-anchor">#</a> <div class="anchor-container"><span id="maksimum-na-otrezke-(`max`)" class="anchor-target"></span> <a href="#maksimum-na-otrezke-(`max`)" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.4. –ú–∞–∫—Å–∏–º—É–º –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ (<code>Max</code>)</h3> <p>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">a</mi><mi mathvariant="italic">x</mi></mrow><mi>t</mi></msub><mo>=</mo><mi>max</mi><mo>(</mo><msub><mi>p</mi><mrow><mi>t</mi></mrow></msub><mo separator="true">,</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">\mathit{Max}_t = \max(p_{t}, p_{t-1}, ... , p_{t-n+1})
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mop">max</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">n</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mclose">)</span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">a</mi><mi mathvariant="italic">x</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{Max}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.65952em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">i</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>Max</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>Max</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>Max()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>Max(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>Max(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>Max</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h3 id="_10-10-5-–º–∏–Ω–∏–º—É–º-–Ω–∞-–æ—Ç—Ä–µ–∑–∫–µ-min" tabindex="-1"><a href="#_10-10-5-–º–∏–Ω–∏–º—É–º-–Ω–∞-–æ—Ç—Ä–µ–∑–∫–µ-min" class="header-anchor">#</a> <div class="anchor-container"><span id="minimum-na-otrezke-(`min`)" class="anchor-target"></span> <a href="#minimum-na-otrezke-(`min`)" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.5. –ú–∏–Ω–∏–º—É–º –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ (<code>Min</code>)</h3> <p>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">i</mi><mi mathvariant="italic">n</mi></mrow><mi>t</mi></msub><mo>=</mo><mi>min</mi><mo>(</mo><msub><mi>p</mi><mrow><mi>t</mi></mrow></msub><mo separator="true">,</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">\mathit{Min}_t = \min(p_{t}, p_{t-1}, ... , p_{t-n+1})
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">i</span><span class="mord mathit">n</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mop">min</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">n</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mclose">)</span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">i</mi><mi mathvariant="italic">n</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{Min}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">i</span><span class="mord mathit">n</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>Min</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>Min</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>Min()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>Min(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>Min(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>Min</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h3 id="_10-10-6-–¥–∏—Å–ø–µ—Ä—Å–∏—è-var" tabindex="-1"><a href="#_10-10-6-–¥–∏—Å–ø–µ—Ä—Å–∏—è-var" class="header-anchor">#</a> <div class="anchor-container"><span id="dispersiya-(`var`)" class="anchor-target"></span> <a href="#dispersiya-(`var`)" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.6. –î–∏—Å–ø–µ—Ä—Å–∏—è (<code>Var</code>)</h3> <p>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">V</mi><mi mathvariant="italic">a</mi><mi mathvariant="italic">r</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><mrow><msup><mrow><mo fence="true">(</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub><mo>‚àí</mo><mover accent="true"><mrow><mi>p</mi></mrow><mo stretchy="true">‚Äæ</mo></mover><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow></mrow><annotation encoding="application/x-tex">\mathit{Var}_t = \frac{1}{n}\sum_{i=0}^{n-1}{\left( p_{t - i} - \overline{p} \right) ^2}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.8011130000000004em;"></span><span class="strut bottom" style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.02778em;">r</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop op-limits"><span class="vlist"><span style="top:1.1776689999999999em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.000005000000000143778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span><span class="op-symbol large-op mop">‚àë</span></span></span><span style="top:-1.2500050000000003em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord displaystyle textstyle uncramped"><span class="minner"><span class="minner displaystyle textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span class="overline mord"><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord displaystyle textstyle cramped"><span class="mord mathit">p</span></span></span><span style="top:-0.5505599999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped overline-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">V</mi><mi mathvariant="italic">a</mi><mi mathvariant="italic">r</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{Var}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.02778em;">r</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi>p</mi></mrow><mo stretchy="true">‚Äæ</mo></mover><mo>=</mo><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow></mrow><annotation encoding="application/x-tex">\overline{p} = \frac{1}{n}\sum_{i=0}^{n-1}{p_{t - i}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.854239em;"></span><span class="strut bottom" style="height:1.199239em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="overline mord"><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord textstyle cramped"><span class="mord mathit">p</span></span></span><span style="top:-0.5505599999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped overline-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop"><span class="op-symbol small-op mop" style="top:-0.0000050000000000050004em;">‚àë</span><span class="vlist"><span style="top:0.276864em;margin-left:0em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.403131em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t-i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">t-i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>Var</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>Var</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>Var()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>Var(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>Var(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>Var</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h3 id="_10-10-7-—Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–µ—Å–∫–æ–µ-–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ-stddev" tabindex="-1"><a href="#_10-10-7-—Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–µ—Å–∫–æ–µ-–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ-stddev" class="header-anchor">#</a> <div class="anchor-container"><span id="srednekvadraticheskoe-otklonenie-(`stddev`)" class="anchor-target"></span> <a href="#srednekvadraticheskoe-otklonenie-(`stddev`)" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.7. –°—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (<code>StdDev</code>)</h3> <p>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">S</mi><mi mathvariant="italic">t</mi><mi mathvariant="italic">d</mi><mi mathvariant="italic">D</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">v</mi></mrow><mi>t</mi></msub><mo>=</mo><msqrt><mrow><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><mrow><msup><mrow><mo fence="true">(</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub><mo>‚àí</mo><mover accent="true"><mrow><mi>p</mi></mrow><mo stretchy="true">‚Äæ</mo></mover><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow></mrow></msqrt></mrow><annotation encoding="application/x-tex">\mathit{StdDev}_t = \sqrt{\frac{1}{n}\sum_{i=0}^{n-1}{\left( p_{t - i} - \overline{p} \right) ^2}}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:2.203107em;"></span><span class="strut bottom" style="height:3.6550199999999995em;vertical-align:-1.4519129999999996em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit">t</span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.03588em;">v</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="sqrt mord"><span class="sqrt-sign" style="top:-0.09811200000000042em;"><span class="style-wrap reset-textstyle textstyle uncramped"><span class="delimsizing mult"><span class="vlist"><span style="top:0.665005em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="delimsizinginner delim-size4"><span>‚é∑</span></span></span><span style="top:-0.24999499999999997em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="delimsizinginner delim-size4"><span>ÓÄÄ</span></span></span><span style="top:-0.854995em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="delimsizinginner delim-size4"><span>ÓÄÄ</span></span></span><span style="top:-1.459995em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="delimsizinginner delim-size4"><span>ÓÄÅ</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord displaystyle textstyle cramped"><span class="mord reset-textstyle displaystyle textstyle cramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop op-limits"><span class="vlist"><span style="top:1.1776689999999999em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.000005000000000143778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span><span class="op-symbol large-op mop">‚àë</span></span></span><span style="top:-1.2500050000000003em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord displaystyle textstyle cramped"><span class="minner"><span class="minner displaystyle textstyle cramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span class="overline mord"><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord displaystyle textstyle cramped"><span class="mord mathit">p</span></span></span><span style="top:-0.5505599999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped overline-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="vlist"><span style="top:-0.364em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span><span style="top:-2.123107em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped sqrt-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">S</mi><mi mathvariant="italic">t</mi><mi mathvariant="italic">d</mi><mi mathvariant="italic">D</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">v</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{StdDev}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit">t</span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.03588em;">v</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi>p</mi></mrow><mo stretchy="true">‚Äæ</mo></mover><mo>=</mo><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow></mrow><annotation encoding="application/x-tex">\overline{p} = \frac{1}{n}\sum_{i=0}^{n-1}{p_{t - i}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.854239em;"></span><span class="strut bottom" style="height:1.199239em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="overline mord"><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord textstyle cramped"><span class="mord mathit">p</span></span></span><span style="top:-0.5505599999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped overline-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop"><span class="op-symbol small-op mop" style="top:-0.0000050000000000050004em;">‚àë</span><span class="vlist"><span style="top:0.276864em;margin-left:0em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.403131em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t-i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">t-i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>StdDev</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>StdDev</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>StdDev()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>StdDev(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>StdDev(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>StdDev</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h3 id="_10-10-8-–ª–∏–Ω–∏–∏-–±–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞-bb" tabindex="-1"><a href="#_10-10-8-–ª–∏–Ω–∏–∏-–±–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞-bb" class="header-anchor">#</a> <div class="anchor-container"><span id="linii-bollindzhera-(`bb`)" class="anchor-target"></span> <a href="#linii-bollindzhera-(`bb`)" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.8. –õ–∏–Ω–∏–∏ –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞ (<code>BB</code>)</h3> <p>–°–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathit{ML}_t = \frac{1}{n} \sum_{i=0}^{n - 1}p_{t-i}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.8011130000000004em;"></span><span class="strut bottom" style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop op-limits"><span class="vlist"><span style="top:1.1776689999999999em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.000005000000000143778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span><span class="op-symbol large-op mop">‚àë</span></span></span><span style="top:-1.2500050000000003em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span></p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">T</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub><mo>=</mo><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub><mo>+</mo><mi>d</mi><mo>√ó</mo><msub><mrow><mi mathvariant="italic">S</mi><mi mathvariant="italic">t</mi><mi mathvariant="italic">d</mi><mi mathvariant="italic">D</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">v</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{TL}_t = \mathit{ML}_t + d \times \mathit{StdDev}_t
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">+</span><span class="mord mathit">d</span><span class="mbin">√ó</span><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit">t</span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.03588em;">v</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span></p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">B</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub><mo>=</mo><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub><mo>‚àí</mo><mi>d</mi><mo>√ó</mo><msub><mrow><mi mathvariant="italic">S</mi><mi mathvariant="italic">t</mi><mi mathvariant="italic">d</mi><mi mathvariant="italic">D</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">v</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{BL}_t = \mathit{ML}_t - d \times \mathit{StdDev}_t
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span class="mord mathit">d</span><span class="mbin">√ó</span><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit">t</span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.03588em;">v</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">M</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{ML}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">T</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{TL}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">B</mi><mi mathvariant="italic">L</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{BL}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mord mathit">L</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–∫–æ–º—ã—Ö –≤–µ–ª–∏—á–∏–Ω –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">S</mi><mi mathvariant="italic">t</mi><mi mathvariant="italic">d</mi><mi mathvariant="italic">D</mi><mi mathvariant="italic">e</mi><mi mathvariant="italic">v</mi></mrow><mi>t</mi></msub><mo>=</mo><msqrt><mrow><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><mrow><msup><mrow><mo fence="true">(</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub><mo>‚àí</mo><mover accent="true"><mrow><mi>p</mi></mrow><mo stretchy="true">‚Äæ</mo></mover><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow></mrow></msqrt></mrow><annotation encoding="application/x-tex">\mathit{StdDev}_t = \sqrt{\frac{1}{n}\sum_{i=0}^{n-1}{\left( p_{t - i} - \overline{p} \right) ^2}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.2396295em;"></span><span class="strut bottom" style="height:1.84002em;vertical-align:-0.6003905em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit">t</span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.03588em;">v</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="sqrt mord"><span class="sqrt-sign" style="top:-0.04962949999999999em;"><span class="style-wrap reset-textstyle textstyle uncramped"><span class="delimsizing size2">‚àö</span></span></span><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord textstyle cramped"><span class="mord reset-textstyle textstyle cramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop"><span class="op-symbol small-op mop" style="top:-0.0000050000000000050004em;">‚àë</span><span class="vlist"><span style="top:0.276864em;margin-left:0em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.403131em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord textstyle cramped"><span class="minner"><span class="minner textstyle cramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span class="overline mord"><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord textstyle cramped"><span class="mord mathit">p</span></span></span><span style="top:-0.5505599999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped overline-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="vlist"><span style="top:-0.364em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span><span style="top:-1.1596294999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped sqrt-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi>p</mi></mrow><mo stretchy="true">‚Äæ</mo></mover><mo>=</mo><mfrac><mrow><mn>1</mn></mrow><mrow><mi>n</mi></mrow></mfrac><msubsup><mo>‚àë</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow></msubsup><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow></mrow><annotation encoding="application/x-tex">\overline{p} = \frac{1}{n}\sum_{i=0}^{n-1}{p_{t - i}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.854239em;"></span><span class="strut bottom" style="height:1.199239em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="overline mord"><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="mord textstyle cramped"><span class="mord mathit">p</span></span></span><span style="top:-0.5505599999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped overline-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mop"><span class="op-symbol small-op mop" style="top:-0.0000050000000000050004em;">‚àë</span><span class="vlist"><span style="top:0.276864em;margin-left:0em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.403131em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">n</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t-i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>‚àí</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">t-i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathit">i</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span></span></span></span> - –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>BB</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>BB</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>BB()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>BB(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>BB(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>BB</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>double d() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span></span></span></span></td></tr> <tr><td>void set_d(double d)</td> <td>–ó–∞–¥–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span></span></span></span>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥—Ä–æ–±–Ω—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 1000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ML –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>double tl() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ TL –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>double ml() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ML –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>double bl() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ BL –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h3 id="_10-10-9-–∏–Ω–¥–µ–∫—Å-–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–∏-—Å–∏–ª—ã-rsi" tabindex="-1"><a href="#_10-10-9-–∏–Ω–¥–µ–∫—Å-–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–∏-—Å–∏–ª—ã-rsi" class="header-anchor">#</a> <div class="anchor-container"><span id="indicators-rsi" class="anchor-target"></span><span id="indeks-otnositelnoi-sili-(`rsi`)" class="anchor-target"></span> <a href="#indicators-rsi" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.10.9. –ò–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã (<code>RSI</code>)</h3> <p>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">R</mi><mi mathvariant="italic">S</mi><mi mathvariant="italic">I</mi></mrow><mi>t</mi></msub><mo>=</mo><mn>1</mn><mn>0</mn><mn>0</mn><mo>‚àí</mo><mfrac><mrow><mn>1</mn><mn>0</mn><mn>0</mn></mrow><mrow><mn>1</mn><mo>+</mo><msub><mrow><mi mathvariant="italic">R</mi><mi mathvariant="italic">S</mi></mrow><mi>t</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\mathit{RSI}_t = 100 - \frac{100}{1 + \mathit{RS}_t}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.32144em;"></span><span class="strut bottom" style="height:2.1574400000000002em;vertical-align:-0.8360000000000001em;"></span><span class="base displaystyle textstyle uncramped"><span><span class="mord displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.07847em;">I</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span><span class="mbin">‚àí</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathrm">1</span><span class="mbin">+</span><span><span class="mord textstyle cramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.05764em;">S</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p> <p>–≥–¥–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">R</mi><mi mathvariant="italic">S</mi><mi mathvariant="italic">I</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\mathit{RSI}_t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.07847em;">I</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">R</mi><mi mathvariant="italic">S</mi></mrow><mrow><mi>t</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>E</mi><mi>M</mi><mi>A</mi><mi mathvariant="normal">_</mi><mi>G</mi><mi>A</mi><mi>I</mi><msub><mi>N</mi><mi>t</mi></msub></mrow><mrow><mi>E</mi><mi>M</mi><mi>A</mi><mi mathvariant="normal">_</mi><mi>L</mi><mi>O</mi><mi>S</mi><msub><mi>S</mi><mi>t</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\mathit{RS}_{t} = \frac{EMA\_GAIN_t}{EMA\_LOSS_t}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.005331em;"></span><span class="strut bottom" style="height:1.5673309999999998em;vertical-align:-0.5619999999999999em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.05764em;">S</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathrm" style="margin-right:0.02778em;">_</span><span class="mord mathit">L</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.05764em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.527em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathrm" style="margin-right:0.02778em;">_</span><span class="mord mathit">G</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">_</mi><mi mathvariant="italic">G</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">I</mi><mi mathvariant="italic">N</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><mrow><mn>2</mn></mrow><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>(</mo><msub><mi>G</mi><mi>t</mi></msub><mo>‚àí</mo><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">_</mi><mi mathvariant="italic">G</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">I</mi><mi mathvariant="italic">N</mi></mrow><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub><mo>)</mo><mo>+</mo><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">_</mi><mi mathvariant="italic">G</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">I</mi><mi mathvariant="italic">N</mi></mrow><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathit{EMA\_GAIN}_t = \frac{2}{n + 1} (G_t - \mathit{EMA\_GAIN}_{t-1}) + \mathit{EMA\_GAIN}_{t-1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.845108em;"></span><span class="strut bottom" style="height:1.2484389999999999em;vertical-align:-0.403331em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathit">_</span><span class="mord mathit">G</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathit">G</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathit">_</span><span class="mord mathit">G</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mclose">)</span><span class="mbin">+</span><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathit">_</span><span class="mord mathit">G</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">_</mi><mi mathvariant="italic">L</mi><mi mathvariant="italic">O</mi><mi mathvariant="italic">S</mi><mi mathvariant="italic">S</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><mrow><mn>2</mn></mrow><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>(</mo><msub><mi>L</mi><mi>t</mi></msub><mo>‚àí</mo><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">_</mi><mi mathvariant="italic">L</mi><mi mathvariant="italic">O</mi><mi mathvariant="italic">S</mi><mi mathvariant="italic">S</mi></mrow><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub><mo>)</mo><mo>+</mo><msub><mrow><mi mathvariant="italic">E</mi><mi mathvariant="italic">M</mi><mi mathvariant="italic">A</mi><mi mathvariant="italic">_</mi><mi mathvariant="italic">L</mi><mi mathvariant="italic">O</mi><mi mathvariant="italic">S</mi><mi mathvariant="italic">S</mi></mrow><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathit{EMA\_LOSS}_t = \frac{2}{n + 1} (L_t - \mathit{EMA\_LOSS}_{t-1}) + \mathit{EMA\_LOSS}_{t-1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.845108em;"></span><span class="strut bottom" style="height:1.2484389999999999em;vertical-align:-0.403331em;"></span><span class="base textstyle uncramped"><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathit">_</span><span class="mord mathit">L</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.05764em;">S</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathit">L</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathit">_</span><span class="mord mathit">L</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.05764em;">S</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mclose">)</span><span class="mbin">+</span><span><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathit">A</span><span class="mord mathit">_</span><span class="mord mathit">L</span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit" style="margin-right:0.05764em;">S</span></span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mrow><mi>t</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable><mtr><mtd><mrow><msub><mi>p</mi><mi>t</mi></msub><mo>‚àí</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo></mrow></mtd><mtd><mrow><mtext><mi mathvariant="normal">i</mi><mi mathvariant="normal">f</mi></mtext><mspace width="0.5em"></mspace><msub><mi>p</mi><mi>t</mi></msub><mo>‚â•</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow></mtd></mtr><mtr><mtd><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mtd><mtd><mrow><mtext><mi mathvariant="normal">i</mi><mi mathvariant="normal">f</mi></mtext><mspace width="0.5em"></mspace><msub><mi>p</mi><mi>t</mi></msub><mo>&lt;</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">G_{t} = \begin{cases} 
     p_t - p_{t-1}, &amp;\text{if}\enspace p_t \ge p_{t-1}\\
     0, &amp;\text{if}\enspace p_t &lt; p_{t-1} 
   \end{cases}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.75em;"></span><span class="strut bottom" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">G</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mpunct">,</span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="mord mathrm">0</span><span class="mpunct">,</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="text mord textstyle uncramped"><span class="mord mathrm">i</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span></span><span class="mord mspace enspace"></span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">‚â•</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="text mord textstyle uncramped"><span class="mord mathrm">i</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span></span><span class="mord mspace enspace"></span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">&lt;</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>t</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable><mtr><mtd><mrow><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub><mo>‚àí</mo><msub><mi>p</mi><mi>t</mi></msub><mo separator="true">,</mo></mrow></mtd><mtd><mrow><mtext><mi mathvariant="normal">i</mi><mi mathvariant="normal">f</mi></mtext><mspace width="0.5em"></mspace><msub><mi>p</mi><mi>t</mi></msub><mo>‚â§</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow></mtd></mtr><mtr><mtd><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mtd><mtd><mrow><mtext><mi mathvariant="normal">i</mi><mi mathvariant="normal">f</mi></mtext><mspace width="0.5em"></mspace><msub><mi>p</mi><mi>t</mi></msub><mo>&gt;</mo><msub><mi>p</mi><mrow><mi>t</mi><mo>‚àí</mo><mn>1</mn></mrow></msub></mrow></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">L_{t} = \begin{cases} 
     p_{t-1} - p_t, &amp;\text{if}\enspace p_t \le p_{t-1}\\
     0, &amp;\text{if}\enspace p_t &gt; p_{t-1} 
   \end{cases}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.75em;"></span><span class="strut bottom" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">‚àí</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mpunct">,</span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="mord mathrm">0</span><span class="mpunct">,</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="text mord textstyle uncramped"><span class="mord mathrm">i</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span></span><span class="mord mspace enspace"></span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">‚â§</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord textstyle uncramped"><span class="text mord textstyle uncramped"><span class="mord mathrm">i</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span></span><span class="mord mspace enspace"></span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">&gt;</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">‚àí</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{t}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> - –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>;</p> <p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n + 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Ü–µ–Ω—ã) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å–∫–æ–º–æ–π –≤–µ–ª–∏—á–∏–Ω—ã (<code>RSI</code>).</p> <p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã <code>RSI</code>:</p> <table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>RSI()</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç—ã–º —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>RSI(const std::vector&lt;interval&gt;&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr> <tr><td>RSI(const schedule&amp; sch)</td> <td>—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç c —Ä–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å <code>TradingDays</code> –ø–æ—Ä—Ç—Ñ–µ–ª—è</td></tr></tbody></table> <p>–ú–µ—Ç–æ–¥—ã <code>RSI</code>:</p> <table><thead><tr><th>–ú–µ—Ç–æ–¥</th> <th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead> <tbody><tr><td>size_t length() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–ø–∞—Ä–º–µ—Ç—Ä <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> –∏–∑ —Ñ–æ—Ä–º—É–ª—ã)</td></tr> <tr><td>void set_length(size_t n)</td> <td>–ó–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 10000]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è 10), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>size_t timeframe() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º —Ä–∞—Å—á–µ—Ç–æ–≤, —Ç.–µ. —Å –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–∞—Ç—å <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span></td></tr> <tr><td>void set_timeframe(size_t timeframe)</td> <td>–ó–∞–¥–∞—Ç—å —Ç–∞–π–º-—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[1, 86400]</code> (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —Å–µ–∫—É–Ω–¥–∞), –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code>. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –æ—á–µ—Ä–µ–¥—å –∑–Ω–∞—á–µ–Ω–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è</td></tr> <tr><td>int trading_days() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void set_trading_days(int trading_days)</td> <td>–ó–∞–¥–∞—Ç—å <code>TradingDays</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º –∏–∑ –æ—Ç—Ä–µ–∑–∫–∞ <code>[0, 127]</code>, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::invalid_argument</code></td></tr> <tr><td>bool update(double p)</td> <td>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{i}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span></span> –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞. –ï—Å–ª–∏ —Ç–∞–π–º-—Ñ—Ä–µ–π–º –∏—Å—Ç–µ–∫, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç <code>true</code>, –∏–Ω–∞—á–µ <code>false</code></td></tr> <tr><td>double value() const</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—É—Å—Ç, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <code>std::out_of_range</code></td></tr> <tr><td>void clear()</td> <td>–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>bool empty()</td> <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>size_t size()</td> <td>–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞</td></tr> <tr><td>void shift(double p)</td> <td>–ü—Ä–∏–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</td></tr></tbody></table> <h2 id="_10-11-–ø—Ä–∏–º–µ—Ä—ã-–¥–æ—Å—Ç—É–ø–∞-–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º-–ø–æ—Ä—Ç—Ñ–µ–ª—è-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-—Å–¥–µ–ª–∫–∏-–ø–æ–∑–∏—Ü–∏–∏" tabindex="-1"><a href="#_10-11-–ø—Ä–∏–º–µ—Ä—ã-–¥–æ—Å—Ç—É–ø–∞-–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º-–ø–æ—Ä—Ç—Ñ–µ–ª—è-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞-—Å–¥–µ–ª–∫–∏-–ø–æ–∑–∏—Ü–∏–∏" class="header-anchor">#</a> <div class="anchor-container"><span id="primeri-dostupa-k-parametram-portfelya,-instrumenta,-sdelki,-pozitsii" class="anchor-target"></span> <a href="#primeri-dostupa-k-parametram-portfelya,-instrumenta,-sdelki,-pozitsii" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.11. –ü—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –ø–æ—Ä—Ç—Ñ–µ–ª—è, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Å–¥–µ–ª–∫–∏, –ø–æ–∑–∏—Ü–∏–π</h2> <p>–ü—É—Å—Ç—å –∏–º–µ–µ—Ç—Å—è –ø–æ—Ä—Ç—Ñ–µ–ª—å —Å –∏–º–µ–Ω–µ–º &quot;si&quot; –∏ –≤ —ç—Ç–æ–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ –µ—Å—Ç—å –æ–¥–∏–Ω —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç - —Ñ—å—é—á–µ—Ä—Å –Ω–∞ –¥–æ–ª–ª–∞—Ä &quot;SiH6&quot;. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∏–¥ –∏ –æ–±—ä–µ–º –±–∏–¥–∞ –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ —Å–ª–æ–∂–∏—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> bid <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> amount_bid <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">amount_bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <p>–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∑–∏—Ü–∏—é –∏ —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å:</p> <div class="language-C extra-class"><pre class="language-c"><code>portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> lim_buy <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">lim_b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> pos <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__sec_status_check__" class="anchor-target"></span> <a href="#__sec_status_check__" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div>–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –º–æ–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞—è–≤–∫–∏ –∏ –≤ —Ä–æ–±–æ—Ç–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –ø–æ–ª—É—á–∞—é—â–µ–µ —Å—Ç–∞–∫–∞–Ω—ã:
<div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">trading_status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> TRADING_CAN_PLACE<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">conn_online</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> MARKET_DATA_OB_ONLINE<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// TODO place your code here</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <p>–ü–æ–∑–∏—Ü–∏—é –ø–æ—Ä—Ç—Ñ–µ–ª—è –º–æ–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å —Å–∞–º–æ–º—É, —Ä–∞–∑–¥–µ–ª–∏–≤ –ø–æ–∑–∏—Ü–∏—é –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –µ–µ –≤–µ—Å –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ, –≤–æ—Ç —Ç–∞–∫:</p> <div class="language-C extra-class"><pre class="language-c"><code>security_fields sf <span class="token operator">=</span> <span class="token function">get_security_fields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> pos <span class="token operator">=</span> sf<span class="token punctuation">.</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> sf<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <p>–î–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Ä–∞–∑–¥–≤–∏–∂–∫–∏ –ø–æ —Å–¥–µ–ª–∫–∞–º –ø–æ—Ä—Ç—Ñ–µ–ª—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—É:</p> <div class="language-C extra-class"><pre class="language-c"><code>portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> p<span class="token punctuation">.</span><span class="token function">deal</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>price<span class="token punctuation">;</span>
</code></pre></div><hr> <p>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ data –º–æ–∂–Ω–æ —Ç–∞–∫:</p> <div class="language-C extra-class"><pre class="language-c"><code>portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token string">&quot;si&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> p <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__Example1__" class="anchor-target"></span> <!----></div>–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ü–µ–Ω—É –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å –°–ü–± –±–∏—Ä–∂–∏ (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏ –ø–æ –∫–ª—é—á—É –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –°–ü–ë –±–∏—Ä–∂–∏):
<div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SPB_AGGR_AAPL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> spb_commons<span class="token operator">&amp;</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">spb_common</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> p <span class="token operator">=</span> c<span class="token punctuation">.</span>price_last<span class="token punctuation">;</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__Example2__" class="anchor-target"></span> <!----></div>–ß—Ç–æ–±—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–¥–∞—Ç—å –∏ –ø–æ—Ç–æ–º –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–ª—è#0&quot;:
<div class="language-C extra-class"><pre class="language-c"><code>portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">set_uf0</span><span class="token punctuation">(</span><span class="token function">user_value</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> user_value<span class="token operator">&amp;</span> v <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">uf0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__Example8__" class="anchor-target"></span> <!----></div>–ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –±–∏–¥ –ø–æ –ø–µ—Ä–≤—ã–º 10-—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å—Ç–∞–∫–∞–Ω–∞ (–Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–∫–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ –≤—Å–µ–º—É —Å—Ç–∞–∫–∞–Ω—É, —Ç.–∫. —Å—Ç–∞–∫–∞–Ω –º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ, —Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–∞—à –∫–æ–¥ –±—É–¥–µ—Ç –¥–æ–ª–≥–æ):
<div class="language-C extra-class"><pre class="language-c"><code><span class="token keyword">double</span> sum1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sum2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> avg_bid <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SPB_AGGR_AAPL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
order_book ob <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">orderbook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>ob<span class="token punctuation">.</span><span class="token function">is_available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> ob<span class="token punctuation">.</span><span class="token function">has_next_bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
        std<span class="token operator">::</span>pair<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">&gt;</span> b <span class="token operator">=</span> ob<span class="token punctuation">.</span><span class="token function">next_bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sum1 <span class="token operator">+=</span> b<span class="token punctuation">.</span>first <span class="token operator">*</span> b<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
        sum2 <span class="token operator">+=</span> b<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
avg_bid <span class="token operator">=</span> <span class="token punctuation">(</span>sum2 <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>sum1 <span class="token operator">/</span> sum2<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__Example3__" class="anchor-target"></span> <!----></div>–ß—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ –≤ —Ü–∏–∫–ª–µ –ø–æ –≤—Å–µ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ –≤—ã–≤–µ—Å—Ç–∏ –∏–º–µ–Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –ª–æ–≥:
<div class="language-C extra-class"><pre class="language-c"><code>portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">restart_sec_iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">has_next_sec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    security_fields sf <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">next_sec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">log_info</span><span class="token punctuation">(</span>sf<span class="token punctuation">.</span><span class="token function">sec_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__Example9__" class="anchor-target"></span> <!----></div>–ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º—É –æ–±—ä–µ–º–æ–≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π —Ü–µ–Ω–µ 100:
<div class="language-C extra-class"><pre class="language-c"><code>security_fields sf <span class="token operator">=</span> <span class="token function">get_security_fields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
order_pool p <span class="token operator">=</span> sf<span class="token punctuation">.</span><span class="token function">orders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> amount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">has_next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    order_item o <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>status <span class="token operator">==</span> RUNNING <span class="token operator">&amp;&amp;</span> <span class="token function">fabs</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>price <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1e-9</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        amount <span class="token operator">+=</span> o<span class="token punctuation">.</span>amount_rest<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <p>–ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∏ —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –ø–æ –≤–∞–ª—é—Ç–µ:</p> <div class="language-C extra-class"><pre class="language-c"><code>connection c <span class="token operator">=</span> <span class="token function">get_connection</span><span class="token punctuation">(</span><span class="token string">&quot;okex_send_test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
coin_item ci <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">coin</span><span class="token punctuation">(</span><span class="token string">&quot;BTC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sec_item si <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">sec</span><span class="token punctuation">(</span><span class="token string">&quot;isolated/BTC-USD-SWAP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> coin_pos <span class="token operator">=</span> ci<span class="token punctuation">.</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> sec_pos <span class="token operator">=</span> si<span class="token punctuation">.</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h2 id="_10-12-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-–∫–ª–∞—Å—Å–æ–≤" tabindex="-1"><a href="#_10-12-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-–∫–ª–∞—Å—Å–æ–≤" class="header-anchor">#</a> <div class="anchor-container"><span id="primeri-ispolzovaniya-funktsii-i-klassov" class="anchor-target"></span> <a href="#primeri-ispolzovaniya-funktsii-i-klassov" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.12. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤</h2> <p>–ü—É—Å—Ç—å –∏–º–µ–µ—Ç—Å—è –ø–æ—Ä—Ç—Ñ–µ–ª—å —Å –∏–º–µ–Ω–µ–º &quot;test&quot; –∏ –≤ —ç—Ç–æ–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ –µ—Å—Ç—å –¥–≤–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: —Ñ—å—é—á–µ—Ä—Å –Ω–∞ –∏–Ω–¥–µ–∫—Å –†–¢–° &quot;RIH6&quot; –∏ –µ–≥–æ –æ–ø—Ü–∏–æ–Ω <code>call</code> –Ω–∞ —Å—Ç—Ä–∞–π–∫ 70000 &quot;RI70000BB6&quot;, –ø–æ–∑–∏—Ü–∏—è –ø–æ –æ–±–æ–∏–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ —Ä–∞–≤–Ω–∞ 1, –∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ —É –æ–±–æ–∏—Ö <a href="/bot-doc/docs/params-description.html#s.on_buy">On_by</a> = <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a>.</p> <p>–†–∞—Å—Å—á–∏—Ç–∞–µ–º –¥–µ–ª—å—Ç—É –æ–¥–Ω–æ–≥–æ –∏–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, &quot;RIH6&quot;. –î–ª—è —ç—Ç–æ–≥–æ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π delta –∏–∑ –º–æ–¥—É–ª—è options. –î–µ–ª—å—Ç–∞ –¥–ª—è —Ñ—å—é—á–µ—Ä—Å–∞ –≤—Å–µ–≥–¥–∞ —Ä–∞–≤–Ω–∞ 1, –ø—Ä–æ–≤–µ—Ä–∏–º, –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å:</p> <div class="language-C extra-class"><pre class="language-c"><code><span class="token keyword">return</span> <span class="token function">S_delta</span><span class="token punctuation">(</span><span class="token string">&quot;RIH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∏–º 1. –ï—Å–ª–∏ —Ö–æ—Ç–∏–º —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–µ–ª—å—Ç—É —Å —É—á–µ—Ç–æ–º —Å—Ç–∞–≤–∫–∏ —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–æ —É–∫–∞–∂–µ–º –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä rr, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–≤–Ω—ã–π 6.25%:</p> <div class="language-C extra-class"><pre class="language-c"><code><span class="token keyword">return</span> <span class="token function">P_delta</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>–∑–¥–µ—Å—å test - –∏–º—è –ø–æ—Ä—Ç—Ñ–µ–ª—è (–¥–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å –¥—Ä—É–≥–∏–º–∏ –∏–º–µ–Ω–∞–º–∏ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∏—Ö –∏–º–µ–Ω–∞). –î–µ–ª—å—Ç–∞ –≤—Å–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –±—É–¥–µ—Ç —Ä–∞–≤–Ω–∞ —Å—É–º–º–µ –¥–µ–ª—å—Ç –µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å —É—á–µ—Ç–æ–º –ø–æ–∑–∏—Ü–∏–∏ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏:</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Œî</mi><mrow><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>f</mi><mi>o</mi><mi>l</mi><mi>i</mi><mi>o</mi></mrow></msub><mo>=</mo><msub><mo>‚àë</mo><mrow><mi>i</mi><mo>‚àà</mo><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>f</mi><mi>o</mi><mi>l</mi><mi>i</mi><mi>o</mi></mrow></msub><msub><mi mathvariant="normal">Œî</mi><mi>i</mi></msub><mo>√ó</mo><mi>p</mi><mi>o</mi><msub><mi>s</mi><mi>i</mi></msub><mo>√ó</mo><mrow><mo fence="true">{</mo><mtable><mtr><mtd><mrow><mn>1</mn><mo separator="true">,</mo></mrow></mtd><mtd><mrow><mtext><mi mathvariant="normal">i</mi><mi mathvariant="normal">f</mi></mtext><mspace width="0.5em"></mspace><mi>O</mi><mi>n</mi><mspace width="0.5em"></mspace><mi>b</mi><mi>u</mi><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mi>B</mi><mi>u</mi><mi>y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>‚àí</mo><mn>1</mn><mo separator="true">,</mo></mrow></mtd><mtd><mrow><mtext><mi mathvariant="normal">i</mi><mi mathvariant="normal">f</mi></mtext><mspace width="0.5em"></mspace><mi>O</mi><mi>n</mi><mspace width="0.5em"></mspace><mi>b</mi><mi>u</mi><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mi>S</mi><mi>e</mi><mi>l</mi><mi>l</mi></mrow></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\Delta_{portfolio}=\sum_{i\in portfolio}\Delta_i \times pos_i \times 
    \begin{cases}
      1, &amp;\text{if}\enspace On\enspace buy_i=Buy\\
     -1, &amp;\text{if}\enspace On\enspace buy_i=Sell 
\end{cases}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.75em;"></span><span class="strut bottom" style="height:3.188221em;vertical-align:-1.438221em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord"><span class="mord mathrm">Œî</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">p</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">i</span><span class="mord mathit">o</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mop op-limits"><span class="vlist"><span style="top:1.202113em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">‚àà</span><span class="mord mathit">p</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">i</span><span class="mord mathit">o</span></span></span></span><span style="top:-0.000005000000000032756em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span><span class="op-symbol large-op mop">‚àë</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mord"><span class="mord mathrm">Œî</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">√ó</span><span class="mord mathit">p</span><span class="mord mathit">o</span><span class="mord"><span class="mord mathit">s</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mbin">√ó</span><span class="minner displaystyle textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord displaystyle textstyle uncramped"><span class="mord mathrm">1</span><span class="mpunct">,</span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord displaystyle textstyle uncramped"><span class="mord">‚àí</span><span class="mord mathrm">1</span><span class="mpunct">,</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord displaystyle textstyle uncramped"><span class="text mord displaystyle textstyle uncramped"><span class="mord mathrm">i</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span></span><span class="mord mspace enspace"></span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit">n</span><span class="mord mspace enspace"></span><span class="mord mathit">b</span><span class="mord mathit">u</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mord mathit">u</span><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="mord displaystyle textstyle uncramped"><span class="text mord displaystyle textstyle uncramped"><span class="mord mathrm">i</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span></span><span class="mord mspace enspace"></span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit">n</span><span class="mord mspace enspace"></span><span class="mord mathit">b</span><span class="mord mathit">u</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">i</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit" style="margin-right:0.01968em;">l</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">‚Äã</span></span>‚Äã</span></span></span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p> <p>–≥–¥–µ i - i-—Ç—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è, Œîi - –¥–µ–ª—å—Ç–∞ i-–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è, posi - –ø–æ–∑–∏—Ü–∏—è i-–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è, On buyi - On buy i-–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è. –í–µ–ª–∏—á–∏–Ω—ã –≥–∞–º–º–∞, –≤–µ–≥–∞, —Ç–µ—Ç–∞ –∏ –æ–∂–∏–¥–∞–µ–º–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ. –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Ö —Ä–∞—Å—Å—á–µ—Ç–∞ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–∏–º–µ—Ä—É —Å –¥–µ–ª—å—Ç–æ–π. –§—É–Ω–∫—Ü–∏—è price —Ç–∞–∫ –∂–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ delta, –Ω–æ –ù–ï –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞ –¥–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.</p> <hr> <p>–¢–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –±–æ–ª–µ–µ &quot;–≥–∏–±–∫–æ&quot; —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–µ–ª–∏—á–∏–Ω—ã, —Ç–∞–∫ –∫–∞–∫ –∏–º –Ω–∞ –≤—Ö–æ–¥ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–π –Ω–∞–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –Ω–æ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–æ–≤ –∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á–µ—Ç–∫–æ –∑–Ω–∞—Ç—å –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞ <code>call</code> –∏–ª–∏ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞ <code>put</code> –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º –æ–∂–∏–¥–∞–µ–º—É—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ü–∏–æ–Ω–∞ &quot;RI70000BB6&quot;, –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ü–µ–Ω –æ–ø—Ü–∏–æ–Ω–∞ –∏ –±–∞–∑–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–∞ –≤–æ–∑—å–º–µ–º –∏—Ö –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s1 <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;RIH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
security s2 <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;RI70000BB6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">CIV</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s2<span class="token punctuation">.</span><span class="token function">strike</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s2<span class="token punctuation">.</span><span class="token function">exp_date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s2<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__Example4__" class="anchor-target"></span> <!----></div>–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –º–µ–Ω—å—à–µ –ø–æ–ª—É–¥–Ω—è:
<div class="language-C extra-class"><pre class="language-c"><code>day_time t <span class="token operator">=</span> <span class="token function">get_day_time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
day_time <span class="token function">t1</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> t <span class="token operator">&lt;</span> t1<span class="token punctuation">;</span>
</code></pre></div><hr> <div class="anchor-container"><span id="__Example7__" class="anchor-target"></span> <!----></div>–ü—Ä–∏–º–µ—Ä —Ça–π–º–µ—Ä–∞ –Ω–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥:
<div class="language-C extra-class"><pre class="language-c"><code><span class="token keyword">static</span> timers<span class="token operator">::</span>timer <span class="token function">t</span><span class="token punctuation">(</span><span class="token number">10000000000LL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// do some operation</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <p>–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –Ω–µ —Ä–∞–Ω–µ–µ, —á–µ–º –≤ <code>10:00</code>:</p> <div class="language-C extra-class"><pre class="language-c"><code><span class="token keyword">static</span> timers<span class="token operator">::</span>day_timer <span class="token function">t</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// do some operation</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <p>–ü—Ä–∏–º–µ—Ä –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è &quot;–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π&quot; (—É–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ <code>i</code>-–≥–æ –ø–æ–ª—è –Ω–∞ <code>i</code>):<div class="anchor-container"><span id="__Example6__" class="anchor-target"></span> <!----></div></p> <div class="language-C extra-class"><pre class="language-c"><code>portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">double</span> v <span class="token operator">=</span> std<span class="token operator">::</span><span class="token function">invoke</span><span class="token punctuation">(</span>uf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get value</span>
    std<span class="token operator">::</span><span class="token function">invoke</span><span class="token punctuation">(</span>set_uf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token function">user_value</span><span class="token punctuation">(</span>v <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// set value</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h2 id="_10-13-–ø—Ä–∏–º–µ—Ä—ã-–Ω–∞–ø–∏—Å–∞–Ω–∏—è-ratio-buy-sell-formula" tabindex="-1"><a href="#_10-13-–ø—Ä–∏–º–µ—Ä—ã-–Ω–∞–ø–∏—Å–∞–Ω–∏—è-ratio-buy-sell-formula" class="header-anchor">#</a> <div class="anchor-container"><span id="primeri-napisaniya-ratio-buy/sell-formula" class="anchor-target"></span> <a href="#primeri-napisaniya-ratio-buy/sell-formula" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.13. –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è Ratio buy/sell formula</h2> <p>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ñ–æ—Ä–º—É–ª –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ç–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ª—é–±–æ–º –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π, —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π , –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Ö –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º.</p> <p>–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ <a href="/bot-doc/docs/params-description.html#s.ratio_b_formula">Ratio sell/buy formula</a> –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤—ã–±—Ä–∞—Ç—å <a href="/bot-doc/docs/params-description.html#s.ratio_type">Ratio type</a> = <code>Ratio formula</code>. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º –≤–æ–π—Ç–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.</p> <p>–ü—É—Å—Ç—å –∏–º–µ–µ—Ç—Å—è –ø–æ—Ä—Ç—Ñ–µ–ª—å —Å –∏–º–µ–Ω–µ–º &quot;si&quot; –∏ –≤ —ç—Ç–æ–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ –µ—Å—Ç—å –æ–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç - —Ñ—å—é—á–µ—Ä—Å –Ω–∞ –¥–æ–ª–ª–∞—Ä &quot;SiH6&quot;, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ <a href="/bot-doc/docs/params-description.html#s.on_buy">On by</a> = <code>Buy</code>.</p> <p>–ï—Å–ª–∏ <a href="/bot-doc/docs/params-description.html#s.ratio_sign">Ratio sign</a> = &quot;√ó&quot;, —Ç–æ –Ω–∏—á–µ–≥–æ –æ—Å–æ–±–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ –Ω–µ –ø—Ä–∏–¥—É–º–∞–µ—à—å, —Ä–∞–∑–≤–µ —á—Ç–æ –∫–∞–∫–æ–π-—Ç–æ —Ö–∏—Ç—Ä—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å (–∏ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏), –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–æ–π:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>–≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –∏ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a> –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–Ω–æ–∂–∏—Ç–µ–ª—å, –µ—Å–ª–∏ –∂–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–Ω–æ–∂–∏—Ç–µ–ª–∏ –Ω–∞–¥–æ –≤–ø–∏—Å–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ <a href="/bot-doc/docs/params-description.html#s.ratio_b_formula">Ratio buy formula</a> –∏ <a href="/bot-doc/docs/params-description.html#s.ratio_s_formula">Ratio sell formula</a>, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>–¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.</p> <p>–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å –∏–∑ –±–∏–¥–∞, –∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a> –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å –∏–∑ –æ—Ñ—Ñ–µ—Ä–∞.</p> <p>–ï—Å–ª–∏ –∂–µ <a href="/bot-doc/docs/params-description.html#s.ratio_sign">Ratio sign</a> = &quot;+&quot;, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É —Ä–∞—Å—á–µ—Ç–∞ <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –∏ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a>, –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–¥–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –≤—ã—á–µ—Å—Ç—å —Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, —Ç–µ–º —Å–∞–º—ã–º –æ–±–Ω—É–ª–∏–≤ <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –∏ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a>:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token operator">-</span>s<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token operator">-</span>s<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>–¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –∞ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–±–∞–≤–∏—Ç—å –∫ <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –∏ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a> –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> price <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token operator">-</span>s<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> price<span class="token punctuation">;</span>
</code></pre></div><p>–∏</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> price <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token operator">-</span>s<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> price<span class="token punctuation">;</span>
</code></pre></div><p>—Ç–µ–ø–µ—Ä—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>price</code> –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±—É–¥—É—Ç –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–ª—è <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –∏ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a>. –•–æ—á–µ—Ç—Å—è –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è <code>Ratio formula</code> —Ç–∞–∫–æ–µ &quot;—Ö–∏—Ç—Ä–æ–µ&quot; –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç—å –±—ã –Ω–µ —É–¥–∞–ª–æ—Å—å.</p> <hr> <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ—â–µ –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä. –ü—É—Å—Ç—å –∏–º–µ–µ—Ç—Å—è –ø–æ—Ä—Ç—Ñ–µ–ª—å —Å –∏–º–µ–Ω–µ–º &quot;test&quot; –∏ –≤ —ç—Ç–æ–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ –µ—Å—Ç—å –¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: —Ñ—å—é—á–µ—Ä—Å –Ω–∞ –¥–æ–ª–ª–∞—Ä &quot;SiH6&quot;, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ <a href="/bot-doc/docs/params-description.html#s.on_buy">On_buy</a> = <code>Buy</code> –∏ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è <a href="/bot-doc/docs/params-description.html#s.is_first">Is first</a> –∏ —Ñ—å—é—á–µ—Ä—Å –Ω–∞ –∏–Ω–¥–µ–∫—Å –†–¢–° &quot;RIH6&quot;, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Ç–æ–∂–µ <a href="/bot-doc/docs/params-description.html#s.on_buy">On_buy</a> = <code>Buy</code> (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ <a href="/bot-doc/docs/params-description.html#s.is_first">Is first</a> –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –∏–º–µ–µ—Ç). –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ –æ–¥–Ω–æ–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∏—Ö —Ü–µ–Ω—ã –≤ –ø—É–Ω–∫—Ç–∞—Ö –∫ –æ–¥–Ω–æ–π —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏, –∫–∞–∫ –∏–∑–≤–µ—Å—Ç–Ω–æ, –¥–æ–ª–ª–∞—Ä —Ç–æ—Ä–≥—É–µ—Ç—Å—è –≤ —Ä—É–±–ª—è—Ö (1 : pt = 1 rub), –∞ –≤–æ—Ç –∏–Ω–¥–µ–∫—Å —Ç–æ—Ä–≥—É–µ—Ç—Å—è –Ω–µ –≤ —Ä—É–±–ª—è—Ö, –¥–ª—è –Ω–µ–≥–æ 1 pt = 0.02 * <code>$</code><sub>price</sub> rub (–≥–¥–µ <code>$</code><sub>price</sub> - —ç—Ç–æ –∫—É—Ä—Å –¥–æ–ª–ª–∞—Ä–∞ –≤ —Ä—É–±–ª—è—Ö, –Ω–æ —ç—Ç–æ –Ω–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞, –∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—é—â–∞—è—Å—è –≤–µ–ª–∏—á–∏–Ω–∞). –ï—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ—à–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏, –æ–±–∞ —Ä–µ–∞–ª–∏–∑—É–µ–º—ã —Ç–æ–ª—å–∫–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º <code>Ratio formula</code> –∏ –æ–±–∞ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É. –í–æ—Ç –æ–Ω–∏:</p> <ol><li><p>–î–ª—è –¥–æ–ª–ª–∞—Ä–∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–¥–∏–º <a href="/bot-doc/docs/params-description.html#s.ratio">Ratio</a> = 1, –∞ –≤–æ—Ç –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞ –†–¢–° –≤—ã–±–µ—Ä–µ–º <a href="/bot-doc/docs/params-description.html#s.ratio_sign">Ratio sign</a> = &quot;√ó&quot;, –∞ –≤ <a href="/bot-doc/docs/params-description.html#s.ratio_b_formula">Ratio buy formula</a> –Ω–∞–ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token number">0.02</span> <span class="token operator">*</span> s<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>–≤ <code>Ratio sell formula</code> –Ω–∞–ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token number">0.02</span> <span class="token operator">*</span> s<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>—Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–¥ –¥–æ–ª–ª–∞—Ä–∞, –∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a> - –µ–≥–æ –æ—Ñ—Ñ–µ—Ä, –∏ –≤–µ–ª–∏—á–∏–Ω—É –ø–æ–ª—É—á–∏–º –≤ —Ä—É–±–ª—è—Ö.</p></li> <li><p>–î–ª—è –¥–æ–ª–ª–∞—Ä–∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–¥–∏–º <a href="/bot-doc/docs/params-description.html#s.ratio">Ratio</a> = 1, –∞ –≤–æ—Ç –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞ –†–¢–° –≤—ã–±–µ—Ä–µ–º <a href="/bot-doc/docs/params-description.html#s.ratio_sign">Ratio sign</a> = &quot;+&quot;, –∞ –≤ <a href="/bot-doc/docs/params-description.html#s.ratio_b_formula">Ratio buy formula</a> –Ω–∞–ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–µ–µ (–≤–Ω–∞—á–∞–ª–µ –æ–±–Ω—É–ª–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ, –∞ –∑–∞—Ç–µ–º –∑–∞–¥–∞–¥–∏–º –Ω–æ–≤–æ–µ):</p> <div class="language-C extra-class"><pre class="language-c"><code>security s1 <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
security s2 <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;RIH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> price <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.02</span> <span class="token operator">*</span> s1<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.001</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token operator">-</span>s2<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> price<span class="token punctuation">;</span>
</code></pre></div><p>–≤ <a href="/bot-doc/docs/params-description.html#s.ratio_s_formula">Ratio sell formula</a> –Ω–∞–ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:</p> <div class="language-C extra-class"><pre class="language-c"><code>security s1 <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;SiH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
security s2 <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token string">&quot;RIH6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> price <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.02</span> <span class="token operator">*</span> s1<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.001</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token operator">-</span>s2<span class="token punctuation">.</span><span class="token function">bid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> price<span class="token punctuation">;</span>
</code></pre></div><p>—Ç–µ–ø–µ—Ä—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π price –∏ –±—É–¥—É—Ç –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (—Ç–∞–∫ —Å–∫–∞–∑–∞—Ç—å, —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∏–Ω–¥–µ–∫—Å–∞ –†–¢–°), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ <a href="/bot-doc/docs/params-description.html#p.buy">Buy</a> –∏ <a href="/bot-doc/docs/params-description.html#p.sell">Sell</a>, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.</p></li></ol> <h2 id="_10-14-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤" tabindex="-1"><a href="#_10-14-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤" class="header-anchor">#</a> <div class="anchor-container"><span id="primeri-ispolzovaniya-indikatorov" class="anchor-target"></span> <a href="#primeri-ispolzovaniya-indikatorov" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.14. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤</h2> <p>–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ <code>SMA</code> –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Ç.–µ. —Ç–∞–π–º-—Ñ—Ä–µ–π–º 1 —Å–µ–∫—É–Ω–¥–∞ –∏ 10 –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è):</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get main security</span>
<span class="token keyword">static</span> indicators<span class="token operator">::</span>SMA sma<span class="token punctuation">;</span><span class="token comment">// initialize SMA object as static variable</span>
sma<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">mid_price</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// try to update SMA value, by adding new price</span>
<span class="token keyword">return</span> sma<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get current SMA value</span>
</code></pre></div><hr> <p>–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ <code>EMA</code> —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (<code>TradingDays</code> –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è, —Ç–∞–π–º-—Ñ—Ä–µ–π–º 1 —Å–µ–∫—É–Ω–¥–∞ –∏ 10 –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è):</p> <div class="language-C extra-class"><pre class="language-c"><code>security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get main security</span>
<span class="token keyword">static</span> indicators<span class="token operator">::</span>EMA <span class="token function">ema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// initialize EMA with trading schedule: 7:00-18:45, 19:00-23:50</span>
ema<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">mid_price</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// try to update EMA value, by adding new price</span>
<span class="token keyword">return</span> ema<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get current EMA value</span>
</code></pre></div><hr> <p>–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ <code>Var</code> —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ü–µ–Ω –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É:</p> <div class="language-C extra-class"><pre class="language-c"><code>portfolio p <span class="token operator">=</span> <span class="token function">get_portfolio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get current portfolio</span>
user_value td <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">uf0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get TradingDays value from user field 0</span>
user_value len <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">uf1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get length value from user field 1</span>
user_value tf <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">uf2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get timeframe value from user field 2</span>
security s <span class="token operator">=</span> <span class="token function">get_security</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get main security</span>

<span class="token keyword">static</span> indicators<span class="token operator">::</span>Var <span class="token function">v</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// initialize Var with trading schedule: 7:00-23:00</span>
v<span class="token punctuation">.</span><span class="token function">set_timeframe</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// set timeframe value from user field 2</span>
v<span class="token punctuation">.</span><span class="token function">set_length</span><span class="token punctuation">(</span>len<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// set length value from user field 1</span>
v<span class="token punctuation">.</span><span class="token function">set_trading_days</span><span class="token punctuation">(</span>td<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// set TradingDays value from user field 0</span>

try<span class="token comment">// try to catch exception</span>
<span class="token punctuation">{</span>
    v<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">mid_price</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// try to update Var value, by adding new price</span>
<span class="token punctuation">}</span>
<span class="token function">catch</span><span class="token punctuation">(</span>std<span class="token operator">::</span>range_error<span class="token operator">&amp;</span> e<span class="token punctuation">)</span><span class="token comment">// if there is no mid_price value simply return -1</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// get current Var value</span>
</code></pre></div><hr> <p>–ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞–Ω–∏—è <code>TradingDays</code> –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:</p> <div class="language-C extra-class"><pre class="language-c"><code>sma<span class="token punctuation">.</span><span class="token function">set_trading_days</span><span class="token punctuation">(</span>WD_MONDAY <span class="token operator">|</span> WD_TUESDAY<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// compute indicator value on Monday and Tuesday only</span>
sma<span class="token punctuation">.</span><span class="token function">set_trading_days</span><span class="token punctuation">(</span>WORK_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// compute indicator value from Monday till Friday</span>
sma<span class="token punctuation">.</span><span class="token function">set_trading_days</span><span class="token punctuation">(</span>WHOLE_WEEK <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">~</span> WD_MONDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// compute indicator value from Tuesday till Sunday</span>
</code></pre></div><h2 id="_10-15-–Ω–∞–∏–±–æ–ª–µ–µ-—á–∞—Å—Ç—ã–µ-–æ—à–∏–±–∫–∏-–≤-—Ñ–æ—Ä–º—É–ª–∞—Ö-–ø—Ä–∏–≤–æ–¥—è—â–∏–µ-–∫-–∞–≤–∞—Ä–∏–∏–Ω–æ–º—É-–∑–∞–≤–µ—Ä—à–µ–Ω–∏—é-—Ä–∞–±–æ—Ç—ã-—Ä–æ–±–æ—Ç–∞" tabindex="-1"><a href="#_10-15-–Ω–∞–∏–±–æ–ª–µ–µ-—á–∞—Å—Ç—ã–µ-–æ—à–∏–±–∫–∏-–≤-—Ñ–æ—Ä–º—É–ª–∞—Ö-–ø—Ä–∏–≤–æ–¥—è—â–∏–µ-–∫-–∞–≤–∞—Ä–∏–∏–Ω–æ–º—É-–∑–∞–≤–µ—Ä—à–µ–Ω–∏—é-—Ä–∞–±–æ—Ç—ã-—Ä–æ–±–æ—Ç–∞" class="header-anchor">#</a> <div class="anchor-container"><span id="errors" class="anchor-target"></span><span id="naibolee-chastie-oshibki-v-formulakh,-privodyashchie-k-avariinomu-zaversheniyu-raboti-robota" class="anchor-target"></span> <a href="#errors" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" class="anchor-link">#</a></div> 10.15. –ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º—É–ª–∞—Ö, –ø—Ä–∏–≤–æ–¥—è—â–∏–µ –∫ –∞–≤–∞—Ä–∏–π–Ω–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞</h2> <p>–¢–∞–∫ –∫–∞–∫ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C++, —Ç–æ –æ—à–∏–±–∫–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª, –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∞–≤–∞—Ä–∏–π–Ω–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã –≤—Å–µ–≥–æ —Ä–æ–±–æ—Ç–∞. –ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ —Ç–∞–∫–æ–≥–æ —Ä–æ–¥–∞ —è–≤–ª—è—é—Ç—Å—è:</p> <ul><li>–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0, –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ–º–æ–µ –≤ —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞—Ö (—Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö <code>int</code> –∏ –µ–≥–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏);</li> <li>–æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –ø—É—Å—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ <code>back()</code>);</li> <li>–Ω–µ–∑–Ω–∞–Ω–∏–µ –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∑—è—Ç–∏–µ –ª–æ–≥–∞—Ä–∏—Ñ–º–∞ –æ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º –∏–ª–∏ –Ω—É–ª—ë–º);</li> <li>–∏–∑—Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏, –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –≤ —Å–≤—è–∑–∏ —Å —Ç–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ª–∏—à—å –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏ –Ω–µ –ø—Ä–æ–¥—É–º–∞–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/bot-doc/docs/order-error.html" class="prev">
        9. –û—à–∏–±–∫–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —Å–Ω—è—Ç–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
      </a></span> <span class="next"><a href="/bot-doc/docs/api.html">
        11. WebSocket API
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/bot-doc/assets/js/app.9ff887b2.js" defer></script><script src="/bot-doc/assets/js/2.838bb34b.js" defer></script><script src="/bot-doc/assets/js/35.065ed9e5.js" defer></script><script src="/bot-doc/assets/js/26.6f356218.js" defer></script>
  </body>
</html>
