<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4. Getting Started | Documentation for Viking&#39;s trading robots</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    <link rel="icon" href="/bot-doc/favicon.ico">
    <meta name="description" content="User guide, algorithm description and API">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/bot-doc/assets/css/0.styles.6701afdc.css" as="style"><link rel="preload" href="/bot-doc/assets/js/app.83ad7943.js" as="script"><link rel="preload" href="/bot-doc/assets/js/2.838bb34b.js" as="script"><link rel="preload" href="/bot-doc/assets/js/13.4efbd1a1.js" as="script"><link rel="preload" href="/bot-doc/assets/js/26.6f356218.js" as="script"><link rel="prefetch" href="/bot-doc/assets/js/1.afddc6e9.js"><link rel="prefetch" href="/bot-doc/assets/js/11.0da1be66.js"><link rel="prefetch" href="/bot-doc/assets/js/12.e55e8208.js"><link rel="prefetch" href="/bot-doc/assets/js/14.ddc6c31a.js"><link rel="prefetch" href="/bot-doc/assets/js/15.38fcf87c.js"><link rel="prefetch" href="/bot-doc/assets/js/16.c824be6d.js"><link rel="prefetch" href="/bot-doc/assets/js/17.bc69b124.js"><link rel="prefetch" href="/bot-doc/assets/js/18.892cf449.js"><link rel="prefetch" href="/bot-doc/assets/js/19.2cb09572.js"><link rel="prefetch" href="/bot-doc/assets/js/20.06660988.js"><link rel="prefetch" href="/bot-doc/assets/js/21.341785c2.js"><link rel="prefetch" href="/bot-doc/assets/js/22.a9cd9df1.js"><link rel="prefetch" href="/bot-doc/assets/js/23.944d81d0.js"><link rel="prefetch" href="/bot-doc/assets/js/24.5f00b0c1.js"><link rel="prefetch" href="/bot-doc/assets/js/25.c23c90cc.js"><link rel="prefetch" href="/bot-doc/assets/js/27.3727a712.js"><link rel="prefetch" href="/bot-doc/assets/js/28.7eadd82b.js"><link rel="prefetch" href="/bot-doc/assets/js/29.9b8ce8ee.js"><link rel="prefetch" href="/bot-doc/assets/js/3.9ce79b6a.js"><link rel="prefetch" href="/bot-doc/assets/js/30.44e495e8.js"><link rel="prefetch" href="/bot-doc/assets/js/31.70e4c415.js"><link rel="prefetch" href="/bot-doc/assets/js/32.2eaba1b6.js"><link rel="prefetch" href="/bot-doc/assets/js/33.14efe842.js"><link rel="prefetch" href="/bot-doc/assets/js/34.d53a4518.js"><link rel="prefetch" href="/bot-doc/assets/js/35.d18c0881.js"><link rel="prefetch" href="/bot-doc/assets/js/36.72b6350e.js"><link rel="prefetch" href="/bot-doc/assets/js/37.e62fc9c8.js"><link rel="prefetch" href="/bot-doc/assets/js/38.bdb0e081.js"><link rel="prefetch" href="/bot-doc/assets/js/39.2086f6a6.js"><link rel="prefetch" href="/bot-doc/assets/js/4.7a0878b4.js"><link rel="prefetch" href="/bot-doc/assets/js/40.827f5d16.js"><link rel="prefetch" href="/bot-doc/assets/js/41.220ebbd7.js"><link rel="prefetch" href="/bot-doc/assets/js/42.2c97abb1.js"><link rel="prefetch" href="/bot-doc/assets/js/43.97a6d394.js"><link rel="prefetch" href="/bot-doc/assets/js/44.2291f6d7.js"><link rel="prefetch" href="/bot-doc/assets/js/45.f472a853.js"><link rel="prefetch" href="/bot-doc/assets/js/46.dfa89cf0.js"><link rel="prefetch" href="/bot-doc/assets/js/47.56652151.js"><link rel="prefetch" href="/bot-doc/assets/js/48.ec655cfb.js"><link rel="prefetch" href="/bot-doc/assets/js/49.45859187.js"><link rel="prefetch" href="/bot-doc/assets/js/5.a4b9db76.js"><link rel="prefetch" href="/bot-doc/assets/js/50.c01ce370.js"><link rel="prefetch" href="/bot-doc/assets/js/51.bb84e970.js"><link rel="prefetch" href="/bot-doc/assets/js/52.a37f1349.js"><link rel="prefetch" href="/bot-doc/assets/js/6.216be7b2.js"><link rel="prefetch" href="/bot-doc/assets/js/7.a0739e8f.js"><link rel="prefetch" href="/bot-doc/assets/js/8.4ce14e89.js"><link rel="prefetch" href="/bot-doc/assets/js/vendors~docsearch.1f8fb848.js">
    <link rel="stylesheet" href="/bot-doc/assets/css/0.styles.6701afdc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bot-doc/en/" class="home-link router-link-active"><img src="/bot-doc/images/vkg_logo.svg" alt="Documentation for Viking's trading robots" class="logo"> <span class="site-name can-hide">Documentation for Viking's trading robots</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bot-doc/en/docs/introduction.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">🇺🇸 EN</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">🇺🇸 EN</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bot-doc/docs/getting-started.html" class="nav-link">
  🇷🇺 RU
</a></li><li class="dropdown-item"><!----> <a href="/bot-doc/en/docs/getting-started.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  🇺🇸 EN
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bot-doc/en/docs/introduction.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">🇺🇸 EN</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">🇺🇸 EN</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bot-doc/docs/getting-started.html" class="nav-link">
  🇷🇺 RU
</a></li><li class="dropdown-item"><!----> <a href="/bot-doc/en/docs/getting-started.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  🇺🇸 EN
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bot-doc/en/docs/change-history.html" class="sidebar-link">1. Change Log</a></li><li><a href="/bot-doc/en/docs/introduction.html" class="sidebar-link">2. About the Platform</a></li><li><a href="/bot-doc/en/docs/interface.html" class="sidebar-link">3. Website Interface</a></li><li><a href="/bot-doc/en/docs/getting-started.html" aria-current="page" class="active sidebar-link">4. Getting Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bot-doc/en/docs/getting-started.html#_4-1-connection-setup" class="sidebar-link">4.1. Connection Setup</a></li><li class="sidebar-sub-header"><a href="/bot-doc/en/docs/getting-started.html#_4-2-keyboard-shortcuts" class="sidebar-link">4.2. Keyboard Shortcuts</a></li><li class="sidebar-sub-header"><a href="/bot-doc/en/docs/getting-started.html#_4-3-telegram-bot" class="sidebar-link">4.3. Telegram Bot</a></li><li class="sidebar-sub-header"><a href="/bot-doc/en/docs/getting-started.html#_4-4-portfolio-setup" class="sidebar-link">4.4. Portfolio Setup</a></li><li class="sidebar-sub-header"><a href="/bot-doc/en/docs/getting-started.html#_4-5-portfolio-management" class="sidebar-link">4.5. Portfolio Management</a></li><li class="sidebar-sub-header"><a href="/bot-doc/en/docs/getting-started.html#_4-6-charts" class="sidebar-link">4.6. Charts</a></li><li class="sidebar-sub-header"><a href="/bot-doc/en/docs/getting-started.html#_4-7-two-factor-authentication" class="sidebar-link">4.7. Two-Factor Authentication</a></li></ul></li><li><a href="/bot-doc/en/docs/stable-work.html" class="sidebar-link">5. Providing Feedback</a></li><li><a href="/bot-doc/en/docs/creating-connection.html" class="sidebar-link">6. Adding Connections</a></li><li><a href="/bot-doc/en/docs/params-description.html" class="sidebar-link">7. Parameters Description</a></li><li><a href="/bot-doc/en/docs/algorithm-comments.html" class="sidebar-link">8. Algorithm Notes</a></li><li><a href="/bot-doc/en/docs/order-error.html" class="sidebar-link">9. Order Submission, Cancellation, and Modification Errors</a></li><li><a href="/bot-doc/en/docs/c-api.html" class="sidebar-link">10. Formulas in C++</a></li><li><a href="/bot-doc/en/docs/api.html" class="sidebar-link">11. WebSocket API</a></li><li><a href="/bot-doc/en/docs/comparison.html" class="sidebar-link">12. Comparison of C++ Formulas and WebSocket API</a></li><li><a href="/bot-doc/en/docs/faq.html" class="sidebar-link">13. Frequently Asked Questions</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_4-getting-started" tabindex="-1"><a href="#_4-getting-started" class="header-anchor">#</a> <div class="anchor-container"><span id="getting-started" class="anchor-target"></span> <a href="#getting-started" title="Копировать ссылку" class="anchor-link">#</a></div> 4. Getting Started</h1> <p>The setup process for the robot differs slightly between production robots and robots available under the <a href="/bot-doc/en/docs/introduction.html#roles">role</a> <code>Demo</code>. In demo robots, all necessary market data connections are pre-configured, and changing the state of market data connections (<code>Enabled</code>/<code>Disabled</code>) is prohibited. Creating trading connections is also disabled, as these robots are not intended for live trading. When initially setting up such robots, the section <a href="/bot-doc/en/docs/getting-started.html#connection_properties">Connection Setup</a> should be skipped. Conversely, a production robot created for a client initially has no transactional connections and may lack active required market data connections to exchanges. Therefore, you must first configure connections to receive market data and add transactional connections.</p> <h2 id="_4-1-connection-setup" tabindex="-1"><a href="#_4-1-connection-setup" class="header-anchor">#</a> <div class="anchor-container"><span id="connection_properties" class="anchor-target"></span><span id="connection-setup" class="anchor-target"></span> <a href="#connection_properties" title="Копировать ссылку" class="anchor-link">#</a></div> 4.1. Connection Setup</h2> <p>To activate market data connections, select the <code>Data Connections</code> widget, check the required market data connections, click the icon <img src="/bot-doc/assets/img/settings_black.d5b3bfbb.svg" width="16" height="16"> in the widget’s top panel, select the robot for which the connection is being enabled, and choose the action <code>Enable</code>.</p> <p><img src="/bot-doc/assets/img/3.1_1_2.4d54a7ec.jpg" alt="Alt text"></p> <p>To set up trading connections, select the <code>Trade connections</code> widget, click the icon <img src="/bot-doc/assets/img/settings_black.d5b3bfbb.svg" width="16" height="16"> in the widget’s top panel, select the robot for which the connection is being added, and choose the action <code>Add</code>.</p> <p><img src="/bot-doc/assets/img/3.1_2_2.4a398582.jpg" alt="Alt text"></p> <p>In the window that opens, fill in the connection parameter fields.
After completing all connection parameters, click <code>Add connection</code>.</p> <p>The <code>Status</code> column in the <code>Trade connections</code> and <code>Data connections</code> widgets displays the status of the corresponding data streams for exchange connections. If all statuses are green, the trading/market data connection is successfully connected to the exchange; otherwise, it is not connected.</p> <p><strong>Important!</strong></p> <p>If a trading connection remains disconnected from the exchange during trading hours for an extended period, technical support will notify the client. If, two hours after notification, the connection remains disconnected, technical support reserves the right to deactivate the connection. This is due to the fact that incorrectly configured connections cause undesirable and excessive activity on the exchange. In response, the exchange may block the client's access.</p> <p>A deactivated trading connection can be edited. Once changes are applied, the trading connection becomes active again, and all statuses should turn green.</p> <h2 id="_4-2-keyboard-shortcuts" tabindex="-1"><a href="#_4-2-keyboard-shortcuts" class="header-anchor">#</a> <div class="anchor-container"><span id="keyboard-shortcuts" class="anchor-target"></span> <a href="#keyboard-shortcuts" title="Копировать ссылку" class="anchor-link">#</a></div> 4.2. Keyboard Shortcuts</h2> <p>Hotkeys are assigned for accessing main widgets and performing portfolio operations. Hotkey combinations are displayed in widget menus and in the <code>Actions</code> menu.
The complete list of hotkeys is available in the user menu (top-right corner) under &quot;Keyboard Shortcuts&quot;.</p> <h2 id="_4-3-telegram-bot" tabindex="-1"><a href="#_4-3-telegram-bot" class="header-anchor">#</a> <div class="anchor-container"><span id="telegram-bot" class="anchor-target"></span> <a href="#telegram-bot" title="Копировать ссылку" class="anchor-link">#</a></div> 4.3. Telegram Bot</h2> <p>For Telegram notifications, the bot <a href="https://t.me/FKVikingBot" target="_blank" rel="noopener noreferrer">FKVikingBot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is used. To connect the Telegram bot, follow these steps:</p> <ul><li>Add <a href="https://t.me/FKVikingBot" target="_blank" rel="noopener noreferrer">FKVikingBot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to your Telegram account by clicking the link and pressing the &quot;START&quot; button in the chat with the bot;</li> <li>Copy or note down the <code>TELEGRAM ID</code> sent by the bot;</li> <li>Open the settings menu from the user icon and enter your <code>TELEGRAM ID</code> there.</li></ul> <p><img src="/bot-doc/assets/img/telegram.91bce84d.png" alt="Doc"></p> <h2 id="_4-4-portfolio-setup" tabindex="-1"><a href="#_4-4-portfolio-setup" class="header-anchor">#</a> <div class="anchor-container"><span id="portfolio_add" class="anchor-target"></span><span id="portfolio-setup" class="anchor-target"></span> <a href="#portfolio_add" title="Копировать ссылку" class="anchor-link">#</a></div> 4.4. Portfolio Setup</h2> <p>To create a portfolio, select the <code>Portfolios table</code> widget and click <code>ADD</code>.</p> <p><img src="/bot-doc/assets/img/3.3_1_1.fa5398b6.jpg" alt="Doc"></p> <p>In the window that opens, use the dropdown list to select the robot in which the new portfolio will be created, enter a name for the portfolio in the <code>Portfolio name</code> field (it is recommended to use descriptive names for easier navigation when managing multiple portfolios; note that the portfolio name cannot be changed later), then click <code>Submit</code>.</p> <p><img src="/bot-doc/assets/img/3.3_1_2.f92d7a0f.jpg" alt="Doc"></p> <p>To add exchange instruments, go to the <code>AVAILABLE SECURITIES</code> section, select the desired exchange/market from the <code>Exchange</code> dropdown, and click <code>Reload security list</code> from exchanges. Then search for the instrument by its <code>SecKey</code> in the corresponding field. Once the required instrument is found, click the <img src="/bot-doc/assets/img/plus.77f72fe9.svg" width="16" height="16"> icon.</p> <p><img src="/bot-doc/assets/img/3.3_1_3.9e76480b.jpg" alt="Doc"></p> <p>The selected instrument will then appear in the <code>PORTFOLIO SECURITIES</code> section.</p> <p><img src="/bot-doc/assets/img/3.3_1_4.4ff52327.jpg" alt="Doc"></p> <p>Add all required instruments in the same way. After adding all instruments, click <code>Apply</code>.
This will open the portfolio settings window. <a href="/bot-doc/en/docs/params-description.html#p">Portfolio parameters</a> are configured on the <code>Portfolio settings</code> tab, and <a href="/bot-doc/en/docs/params-description.html#portfolio-instrument-parameters">instrument parameters</a> are set on the <code>Securities</code> tab. Detailed parameter descriptions can be viewed by clicking the <img src="/bot-doc/assets/img/help.ca36d80e.svg" width="16" height="16"> icon. For portfolio instrument parameters, the help icon <img src="/bot-doc/assets/img/help.ca36d80e.svg" width="16" height="16"> is located within the dropdown list:</p> <p><img src="/bot-doc/assets/img/3.3_1_5.45dfacb1.jpg" alt="Doc"></p> <p>A crossed-out instrument in the portfolio indicates that the financial instrument’s expiration date is within 3 or fewer trading days (excluding non-trading days). If a portfolio contains at least one such instrument, its name (<code>Name</code>) will also be displayed with a strikethrough.</p> <p>For real (non-virtual) trading, instead of the value <code>virtual</code>, select the transactional connection you previously created in the <a href="/bot-doc/en/docs/params-description.html#s.client_code">Client code</a> field.</p> <p>For each portfolio, you can configure a trading schedule (on/off times) by navigating to the <a href="/bot-doc/en/docs/params-description.html#p.use_tt">Timetable</a> tab.</p> <h2 id="_4-5-portfolio-management" tabindex="-1"><a href="#_4-5-portfolio-management" class="header-anchor">#</a> <div class="anchor-container"><span id="portfolio_actions" class="anchor-target"></span><span id="portfolio-management" class="anchor-target"></span> <a href="#portfolio_actions" title="Копировать ссылку" class="anchor-link">#</a></div> 4.5. Portfolio Management</h2> <p>Portfolio management commands are located in the <code>ACTIONS</code> dropdown menu of the <code>Portfolios table</code> widget:</p> <ul><li><p><strong>Start portfolios</strong> <div class="anchor-container"><span id="portfolio_actions.start_portfolios" class="anchor-target"></span> <a href="#portfolio_actions.start_portfolios" title="Копировать ссылку" class="anchor-link">#</a></div> – enables trading for selected portfolios by setting the <a href="/bot-doc/en/docs/params-description.html#p.re_sell">re_sell</a> and <a href="/bot-doc/en/docs/params-description.html#p.re_buy">re_buy</a> flags. When a trading schedule is configured using the <a href="/bot-doc/en/docs/params-description.html#p.use_tt">Timetable</a> parameter, enabling trading via the <code>Start portfolios</code> command has no effect.</p></li> <li><p><strong>Stop portfolios</strong> <div class="anchor-container"><span id="portfolio_actions.stop_portfolios" class="anchor-target"></span> <a href="#portfolio_actions.stop_portfolios" title="Копировать ссылку" class="anchor-link">#</a></div> - disables trading for selected portfolios by clearing the <a href="/bot-doc/en/docs/params-description.html#p.re_sell">re_sell</a> and <a href="/bot-doc/en/docs/params-description.html#p.re_buy">re_buy</a> flags. First-leg orders are canceled; second-leg orders remain on the market and are re-quoted according to the settings of the <a href="/bot-doc/en/docs/params-description.html#s.sl">SL</a> and <a href="/bot-doc/en/docs/params-description.html#s.timer">Timer</a> parameters.  When a trading schedule is configured using the <a href="/bot-doc/en/docs/params-description.html#p.use_tt">Timetable</a> parameter, disabling trading via the <code>Stop portfolios</code> command has no effect.</p></li> <li><p><strong>Hard stop</strong> <div class="anchor-container"><span id="portfolio_actions.hard_stop" class="anchor-target"></span> <a href="#portfolio_actions.hard_stop" title="Копировать ссылку" class="anchor-link">#</a></div> - stops trading for selected portfolios (clears the <a href="/bot-doc/en/docs/params-description.html#p.re_sell">re_sell</a> and <a href="/bot-doc/en/docs/params-description.html#p.re_buy">re_buy</a> flags),  attempts to cancel all active orders on both legs, and disables the trading schedule (the <code>Use timetable</code> flag is cleared). This is a complete shutdown of trading for the selected portfolios, after which no order submissions or replacements will occur for any of the portfolio instruments.</p> <p><strong>Important!</strong> If certain portfolios have formulas that programmatically control the <a href="/bot-doc/en/docs/params-description.html#p.re_sell">re_sell</a> and <a href="/bot-doc/en/docs/params-description.html#p.re_buy">re_buy</a> flags,  trading may resume according to those formulas.</p></li> <li><p><strong>Stop formulas</strong> <div class="anchor-container"><span id="portfolio_actions.stop_formulas" class="anchor-target"></span> <a href="#portfolio_actions.stop_formulas" title="Копировать ссылку" class="anchor-link">#</a></div> - stops trading for selected portfolios (clears the <a href="/bot-doc/en/docs/params-description.html#p.re_sell">re_sell</a> and <a href="/bot-doc/en/docs/params-description.html#p.re_buy">re_buy</a> flags), attempts to cancel all active orders on both legs, and disables the trading schedule (the <code>Use timetable</code> flag is cleared). Additionally, all formula calculations are disabled—i.e., the <a href="/bot-doc/en/docs/params-description.html#p.custom_trade">Custom trade</a> and <a href="/bot-doc/en/docs/params-description.html#p.ext_formulas">Extra formulas</a> portfolio flags are cleared, and for each instrument in the portfolio, the <a href="/bot-doc/en/docs/params-description.html#s.count_type">Count type</a> and <a href="/bot-doc/en/docs/params-description.html#s.ratio_type">Ratio type</a> fields are set to constant value types. To use formulas again later, they must be manually re-enabled.</p></li> <li><p><strong>Reset statuses</strong> <div class="anchor-container"><span id="portfolio_actions.reset_statuses" class="anchor-target"></span> <a href="#portfolio_actions.reset_statuses" title="Копировать ссылку" class="anchor-link">#</a></div> - resets internal statuses of all orders for all instruments in the selected portfolios. There are situations when, for some reason, the exchange does not send an update about an order or sends it in a format not compliant with exchange documentation and thus unsupported by the robot. For example, the robot submits an order, the order is placed, the robot sends a cancellation request, the exchange cancels the order, but does not send confirmation of cancellation. In this case, the actual order status on the exchange and the internal status in the robot diverge, and because the robot is waiting for a response, the order remains stuck in the &quot;canceling&quot; status. 
This button should be used ONLY IN EXTREME CASES, when trading is disabled for the portfolio and you are certain there are no active orders for that portfolio. Otherwise, the robot may lose track of active orders, leading to incorrect financial instrument positions in the robot.</p> <p><strong>Important!</strong>  Note that, unlike double-clicking the <a href="/bot-doc/en/docs/params-description.html#p.sell_status">Sell status</a> and <a href="/bot-doc/en/docs/params-description.html#p.buy_status">Buy status</a> fields in the <code>Portfolios table</code> widget, using this button resets internal statuses for all orders on both legs of the portfolio.</p> <p><strong>Important!</strong>  After using this button, ensure there are no active orders on the exchange and that exchange positions match those in the robot.</p></li> <li><p><strong>To market</strong> <div class="anchor-container"><span id="portfolio_actions.to_market" class="anchor-target"></span> <a href="#portfolio_actions.to_market" title="Копировать ссылку" class="anchor-link">#</a></div> - forcibly aligns positions of the selected portfolios. The behavior is identical to using the <a href="/bot-doc/en/docs/params-description.html#p.to_market">To market</a> clicker on the selected portfolios.</p></li> <li><p><strong>To0</strong> <div class="anchor-container"><span id="portfolio_actions.to0" class="anchor-target"></span> <a href="#portfolio_actions.to0" title="Копировать ссылку" class="anchor-link">#</a></div> - restricts trading for selected portfolios, allowing trading only in the direction of position closing. Sets the <a href="/bot-doc/en/docs/params-description.html#p.to0">To0</a> flag for the selected portfolios.</p></li> <li><p><strong>Group TradingDays</strong> <div class="anchor-container"><span id="portfolio_actions.trading_days" class="anchor-target"></span> <a href="#portfolio_actions.trading_days" title="Копировать ссылку" class="anchor-link">#</a></div> - allows setting trading days for selected portfolios. Behavior is similar to setting trading days in each portfolio’s settings on the <a href="/bot-doc/en/docs/params-description.html#p.trading_days">Timetable</a> tab, with the difference that only the entered changes are applied. For example, if two portfolios have different trading day lists—one with Monday, Tuesday, Friday, and another with Monday, Tuesday, Friday, Saturday, Sunday—you can add Thursday to both lists via this widget, but the lists will not become identical.</p> <p><strong>Important!</strong>  This widget modifies only the list of trading days; the time intervals defining trading hours and the <a href="/bot-doc/en/docs/params-description.html#p.use_tt">Timetable</a> checkbox itself remain unchanged.</p></li> <li><p><strong>Group Timetable</strong> <div class="anchor-container"><span id="portfolio_actions.timetable" class="anchor-target"></span> <a href="#portfolio_actions.timetable" title="Копировать ссылку" class="anchor-link">#</a></div> - allows setting trading intervals for selected portfolios or copying trading intervals from an existing timetable of another portfolio. The behavior is similar to setting trading intervals in each portfolio’s settings on the <a href="/bot-doc/en/docs/params-description.html#p.use_tt">Timetable</a> tab, with the added ability to copy intervals from another portfolio.</p> <p><img src="/bot-doc/assets/img/group_timetable.13c084e1.gif" alt="Doc"></p></li> <li><p><strong>Remove</strong> <div class="anchor-container"><span id="portfolio_actions.remove_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.remove_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div> - deletes the selected portfolios.</p></li> <li><p><strong>Clone portfolio</strong> <div class="anchor-container"><span id="portfolio_actions.clone_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.clone_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div> - creates a clone of the selected portfolio.</p> <p><strong>Important!</strong>  When cloning a portfolio, values that exist only as variables within formula code—including indicators and their states—are not copied.</p></li> <li><p><strong>Disable portfolio \ Enable portfolio</strong> <div class="anchor-container"><span id="portfolio_actions.disable_portfolio" class="anchor-target"></span><span id="portfolio_actions.enable_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.disable_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div>  - excludes selected portfolios from calculations or returns them to normal operation by clearing or setting the <a href="/bot-doc/en/docs/params-description.html#p.disabled">Disabled</a> flag.  Do not confuse this with enabling/disabling trading for a portfolio. Using <code>Disable</code> allows excluding an unused portfolio from calculations. Market data and order books for all its instruments will stop updating (unless those instruments are used in other portfolios). Editing portfolio parameters is not possible while in <code>Disabled</code> status. Be careful! Before disabling a portfolio, ensure trading is stopped, no orders are active or being submitted, and that the portfolio’s fields and instruments are not used in formulas of other portfolios. Also note that re-enabling a portfolio may trigger the reopening of the trading order book.</p></li> <li><p><strong>Export portfolio \ Import portfolio</strong> <div class="anchor-container"><span id="portfolio_actions.export_portfolio" class="anchor-target"></span><span id="portfolio_actions.import_portfolio" class="anchor-target"></span> <a href="#portfolio_actions.export_portfolio" title="Копировать ссылку" class="anchor-link">#</a></div>  - exports selected portfolios from the robot to your computer as <code>.ini</code> files, or imports portfolios into the robot.</p> <p><strong>Important!</strong> The portfolio settings file, in addition to user-defined parameters, also contains exchange information about trading instruments. Therefore, when editing this file manually (via a text editor), any information not related to the user-defined parameters must remain unchanged.</p></li></ul> <h2 id="_4-6-charts" tabindex="-1"><a href="#_4-6-charts" class="header-anchor">#</a> <div class="anchor-container"><span id="charts" class="anchor-target"></span> <a href="#charts" title="Копировать ссылку" class="anchor-link">#</a></div> 4.6. Charts</h2> <p>The widgets are built on the TradingView chart platform.
Clicking the <img src="/bot-doc/assets/img/chart-2.00698ea9.svg" width="16" height="16"> icon in the <code>Chart</code> column of the <a href="/bot-doc/en/docs/interface.html#portfolios_table">Portfolios table</a> widget will open one of two widgets - <a href="/bot-doc/en/docs/interface.html#portfolios_historical_chart">Portfolios historical chart</a> or <a href="/bot-doc/en/docs/interface.html#portfolios_realtime_chart">Portfolios realtime chart</a> - depending on whether parameter history recording is enabled for the portfolio.</p> <p><strong>RealTime mode for portfolios without parameter history recording</strong></p> <p>The chart opens with pre-set indicators: portfolio parameters <a href="/bot-doc/en/docs/params-description.html#p.sell">Sell</a>, <a href="/bot-doc/en/docs/params-description.html#p.buy">Buy</a>, <a href="/bot-doc/en/docs/params-description.html#p.lim_s">Lim_sell</a> and <a href="/bot-doc/en/docs/params-description.html#p.lim_b">Lim_buy</a>. It is not possible to change or add other indicators. The chart time frame cannot be modified. Chart data begins rendering from the moment the widget is opened. Chart data is not preserved after page reload.</p> <p><strong>Historical mode for portfolios with parameter history recording enabled</strong></p> <p>The chart opens with the same default indicators: <a href="/bot-doc/en/docs/params-description.html#p.sell">Sell</a>, <a href="/bot-doc/en/docs/params-description.html#p.buy">Buy</a>, <a href="/bot-doc/en/docs/params-description.html#p.lim_s">Lim_sell</a> and <a href="/bot-doc/en/docs/params-description.html#p.lim_b">Lim_buy</a>.  These parameters can be removed or replaced. History recording is controlled by the user via the <code>Save history</code> setting in the schedule on the <a href="/bot-doc/en/docs/params-description.html#p.use_tt">Timetable</a> tab in portfolio settings. The chart displays data for the selected period, and historical data is loaded progressively when scrolling rightward, back to the point when history recording began. For MOEX markets, it is recommended to follow the market schedule to avoid informational gaps in the history. There is a limit on the number of portfolios for which history recording is available. By default, this limit is 3 portfolios. To request an increase, please contact technical support. The chart supports multiple time frames, selectable in the upper-left corner. Selected indicators can be removed, and additional ones can be added from the dropdown list containing any user portfolio’s available parameters. Additional instruments can be added using the &quot;+&quot; button in the upper-left corner. The full list of available fields can be viewed in the <code>Field</code> field.</p> <p><img src="/bot-doc/assets/img/3.5_1(1).b87cb3e1.jpg" alt="Doc"></p> <p>The main instrument is always present on the chart and cannot be deleted, but it can be changed via the instrument selection menu on the <code>Main</code> tab.
A significant portion of TradingView's toolset is available for use on the charts.
It is possible to display multiple portfolios (with history recording enabled) on a single chart. Maximum history duration is 3 months; beyond that, older data is gradually overwritten starting from the earliest entries. Up to 10 chart widgets can be opened simultaneously.</p> <p><img src="/bot-doc/assets/img/3.5_2.71393db5.jpg" alt="Doc"></p> <p>Customized chart layouts are preserved as long as the chart widget remains open, and also persist across page reloads and workspace switches.
Note that chart data represents periodic snapshots of real-time parameter values used by the robot. Data is updated approximately 3 times per second; therefore, if parameter values change multiple times within 0.3 seconds, only the most recent value will be displayed on the chart.</p> <h2 id="_4-7-two-factor-authentication" tabindex="-1"><a href="#_4-7-two-factor-authentication" class="header-anchor">#</a> <div class="anchor-container"><span id="two-factor-authentication" class="anchor-target"></span> <a href="#two-factor-authentication" title="Копировать ссылку" class="anchor-link">#</a></div> 4.7. Two-Factor Authentication</h2> <p>To enhance user account security on the platform, two-factor authentication (2FA) is implemented. By default, 2FA is disabled.</p> <p><strong>Enabling 2FA:</strong></p> <p><em><strong>Install an authenticator app:</strong></em>  Install a mobile authenticator app that supports the Time-based One-time Password (TOTP) protocol, such as Google Authenticator, Authy, or Microsoft Authenticator.</p> <p><img src="/bot-doc/assets/img/3.6_1.76a1db76.png" alt="Doc"></p> <p><em><strong>Platform setup:</strong></em> Log in to your account, go to the user menu, then navigate to <code>Settings</code> and proceed to <code>Security</code>. Click the <code>Enable 2FA</code> button.</p> <p><img src="/bot-doc/assets/img/3.6_2.de534372.png" alt="Doc"></p> <p><em><strong>Scan the QR code:</strong></em> Use the installed app to scan the QR code displayed on the screen, then enter the confirmation code generated by the app.</p> <p><img src="/bot-doc/assets/img/3.6_3.77c3ac0a.png" alt="Doc"></p> <p><strong>2FA Usage Notes:</strong></p> <p>*<strong>Device time:</strong> Ensure that the time on your device is synchronized with accurate time, as this is critical for TOTP to function correctly.</p> <p><em><strong>Device limit:</strong></em> In the <code>Security</code> section, you can view the list of authorized devices. Up to 20 devices can be registered simultaneously.</p> <p><img src="/bot-doc/assets/img/3.6_4.00b5953a.png" alt="Doc"></p> <p><em><strong>Disabling 2FA:</strong></em> To deactivate 2FA, click the <code>Disable 2FA</code> button in the <code>Security</code> section.</p> <p><img src="/bot-doc/assets/img/3.6_5.8cda052b.png" alt="Doc"></p> <p><strong>Additional Information:</strong></p> <p><em><strong>Code validity period:</strong></em> You have 120 seconds to enter the 2FA code; after this time, the connection will be closed.</p> <p><em><strong>Re-authentication interval:</strong></em> 2FA confirmation is required every 14 days.</p> <p><em><strong>Lockout on failed attempts:</strong></em> Entering an incorrect 2FA code three times in a row will block further attempts from that device for 10 minutes.</p> <p><em><strong>Code uniqueness:</strong></em> The same 2FA code cannot be used more than once consecutively. If a code has already been used, wait for the next one to be generated before proceeding.</p> <p><em><strong>Activation window:</strong></em> When enabling 2FA, the secret key is valid for 10 minutes. If the setup is not confirmed within this time, the process must be repeated.</p> <p><em><strong>Session termination:</strong></em> Upon 2FA activation, all existing user sessions will be terminated.</p> <p><em><strong>Logging out:</strong></em> To &quot;forget&quot; 2FA for a specific device, log out of your account.</p> <p><em><strong>Recovery access:</strong></em> If you lose access to your 2FA method and cannot log in, contact technical support. After identity verification, 2FA will be reset, allowing you to reconfigure it.</p> <p><strong>It is strongly recommended to set up two-factor authentication to enhance the security of your account.</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bot-doc/en/docs/interface.html" class="prev">
        3. Website Interface
      </a></span> <span class="next"><a href="/bot-doc/en/docs/stable-work.html">
        5. Providing Feedback
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/bot-doc/assets/js/app.83ad7943.js" defer></script><script src="/bot-doc/assets/js/2.838bb34b.js" defer></script><script src="/bot-doc/assets/js/13.4efbd1a1.js" defer></script><script src="/bot-doc/assets/js/26.6f356218.js" defer></script>
  </body>
</html>
